openapi: 3.0.3
info:
  title: ESS (Employee Self Service) API
  description: API untuk sistem Employee Self Service yang memungkinkan karyawan mengelola data pribadi dan layanan self-service
  version: 1.0.0
  contact:
    name: ESS Development Team
    email: ess-dev@telkomsigma.com

servers:
  - url: http://localhost:8000/api
    description: Development server
  - url: https://api.ess.telkomsigma.com/api
    description: Production server

security:
  - BearerAuth: []

paths:
  /auth/login:
    post:
      tags: [Authentication]
      summary: Login user
      description: |
        Endpoint untuk login user ke sistem ESS. Menggunakan JWT authentication dengan refresh token.
        Response berisi data karyawan dan token untuk akses API selanjutnya.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [email, password]
              properties:
                email:
                  type: string
                  format: email
                  description: Email karyawan
                  example: example.employee@sigma.co.id
                password:
                  type: string
                  minLength: 6
                  description: Password karyawan
                  example: password123
            example:
              email: example.employee@sigma.co.id
              password: password123
      responses:
        '200':
          description: Login berhasil
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  messages:
                    type: string
                    example: "your data is available"
                  data:
                    type: object
                    properties:
                      employee_id:
                        type: string
                        description: ID karyawan
                        example: "S0242422"
                      employee_name:
                        type: string
                        description: Nama lengkap karyawan
                        example: "Sarah Wijaya"
                      email:
                        type: string
                        format: email
                        description: Email karyawan
                        example: "example.employee@sigma.co.id"
                      employee_level:
                        type: string
                        description: Level karyawan
                        example: "OFFICER"
                      employee_position:
                        type: string
                        description: Posisi karyawan
                        example: "OFFICER IT DEVELOPMENT AND ACQUISITION"
                      unit:
                        type: string
                        description: Unit kerja
                        example: "Corporate Information System and Security"
                      organization:
                        type: string
                        description: Organisasi
                        example: "IT Development and Acquisition"
                      spv_id:
                        type: string
                        description: ID supervisor
                        example: "S20250236"
                      spv_name:
                        type: string
                        description: Nama supervisor
                        example: "EXAMPLE SUPERVISOR"
                      company_code:
                        type: string
                        description: Kode perusahaan
                        example: "SCC"
                      authenticator:
                        type: string
                        description: Metode autentikasi
                        example: "DATABASE"
                  token:
                    type: object
                    properties:
                      access_token:
                        type: string
                        description: JWT access token
                        example: "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9..."
                      refresh_token:
                        type: string
                        description: Refresh token untuk mendapatkan access token baru
                        example: "YTllYzdjMmViOWQ2ZjFiYTA3NDM0MzM5OTIzY2MwMDFhMDYwZDIxOTEyNjhiMDQ1YjU4OTc4YTU0YWU2Yjk2ODZhY2Y4M2YzYmFlMjA5MTc="
              example:
                status: true
                messages: "your data is available"
                data:
                  employee_id: "S0242422"
                  employee_name: "Sarah Wijaya"
                  email: "example.employee@sigma.co.id"
                  employee_level: "OFFICER"
                  employee_position: "OFFICER IT DEVELOPMENT AND ACQUISITION"
                  unit: "Corporate Information System and Security"
                  organization: "IT Development and Acquisition"
                  spv_id: "S20250236"
                  spv_name: "EXAMPLE SUPERVISOR"
                  company_code: "SCC"
                  authenticator: "DATABASE"
                token:
                  access_token: "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9..."
                  refresh_token: "YTllYzdjMmViOWQ2ZjFiYTA3NDM0MzM5OTIzY2MwMDFhMDYwZDIxOTEyNjhiMDQ1YjU4OTc4YTU0YWU2Yjk2ODZhY2Y4M2YzYmFlMjA5MTc="
        '400':
          description: Bad Request - Validasi gagal
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationErrorResponse'
              example:
                status: false
                messages:
                  email:
                    - "The email field must be a valid email address."
                  password:
                    - "The password field is required."
        '401':
          description: Unauthorized - Kredensial salah
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                messages: "incorrect username or password"
        '423':
          description: Akun terkunci
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Your account is locked. Please try again later or please contact the support helpdesk."
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                messages: "Internal server error"
        '503':
          description: Service Unavailable
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                messages: "Service temporarily unavailable"

  /auth/register:
    post:
      tags: [Authentication]
      summary: Register new user
      description: |
        Endpoint untuk registrasi user baru ke sistem ESS. User baru akan dibuat dengan login method ESS_USER atau SSO.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [email, login_method, password]
              properties:
                email:
                  type: string
                  format: email
                  description: Email user yang akan didaftarkan
                  example: example.employee@sigma.co.id
                login_method:
                  type: string
                  enum: [ESS_USER, SSO]
                  description: Metode login user
                  example: "ESS_USER"
                password:
                  type: string
                  minLength: 6
                  description: Password user (minimal 6 karakter)
                  example: password123
            example:
              email: example.employee@sigma.co.id
              login_method: "ESS_USER"
              password: password123
      responses:
        '200':
          description: Registration berhasil
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Registration successful"
                  data:
                    type: object
                    properties:
                      user_id:
                        type: integer
                        description: ID user yang baru dibuat
                        example: 1
                      email:
                        type: string
                        format: email
                        description: Email user
                        example: "example.employee@sigma.co.id"
                      id_employee:
                        type: string
                        nullable: true
                        description: ID karyawan (jika ada)
                        example: null
                      nik:
                        type: string
                        nullable: true
                        description: NIK karyawan (jika ada)
                        example: null
                      name:
                        type: string
                        description: Nama user (default adalah email)
                        example: "example.employee@sigma.co.id"
                      login_method:
                        type: string
                        description: Metode login yang dipilih
                        example: "ESS_USER"
              example:
                status: true
                message: "Registration successful"
                data:
                  user_id: 1
                  email: "example.employee@sigma.co.id"
                  id_employee: null
                  nik: null
                  name: "example.employee@sigma.co.id"
                  login_method: "ESS_USER"
        '400':
          description: Bad Request - Validasi gagal
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationErrorResponse'
              example:
                status: false
                message: "Validation failed"
                errors:
                  email:
                    - "The email field is required."
                    - "The email must be a valid email address."
                  login_method:
                    - "The login method field is required."
                  password:
                    - "The password field is required."
                    - "The password must be at least 6 characters."
        '409':
          description: Conflict - Email sudah terdaftar
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Email already registered"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to register user"
                error: "Internal server error"

  /auth/logout:
    post:
      tags: [Authentication]
      summary: Logout user
      description: |
        Endpoint untuk logout user dari sistem ESS. Menghapus refresh token dari database
        dan meng-invalidate access token yang sedang aktif.
      security: [BearerAuth: []]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [refresh_token]
              properties:
                refresh_token:
                  type: string
                  description: Refresh token yang akan dihapus
                  example: "YTllYzdjMmViOWQ2ZjFiYTA3NDM0MzM5OTIzY2MwMDFhMDYwZDIxOTEyNjhiMDQ1YjU4OTc4YTU0YWU2Yjk2ODZhY2Y4M2YzYmFlMjA5MTc="
            example:
              refresh_token: "YTllYzdjMmViOWQ2ZjFiYTA3NDM0MzM5OTIzY2MwMDFhMDYwZDIxOTEyNjhiMDQ1YjU4OTc4YTU0YWU2Yjk2ODZhY2Y4M2YzYmFlMjA5MTc="
      responses:
        '200':
          description: Berhasil logout
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Successfully logged out."
              example:
                status: true
                message: "Successfully logged out."
        '400':
          description: Bad Request - Refresh token tidak ada
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Bad Request"
                error_code: "BAD_REQUEST"
                action: "contact_support"
        '401':
          description: Unauthorized - Token expired
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '403':
          description: Forbidden - Tidak ada permission
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access denied - You do not have permission"
                error_code: "FORBIDDEN"
                action: "contact_admin"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Internal server error"

  /auth/refresh:
    post:
      tags: [Authentication]
      summary: Refresh access token
      description: |
        Endpoint untuk mendapatkan access token baru menggunakan refresh token.
        Refresh token akan di-generate ulang untuk keamanan.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [refresh_token]
              properties:
                refresh_token:
                  type: string
                  description: Refresh token yang valid
                  example: "YTllYzdjMmViOWQ2ZjFiYTA3NDM0MzM5OTIzY2MwMDFhMDYwZDIxOTEyNjhiMDQ1YjU4OTc4YTU0YWU2Yjk2ODZhY2Y4M2YzYmFlMjA5MTc="
            example:
              refresh_token: "YTllYzdjMmViOWQ2ZjFiYTA3NDM0MzM5OTIzY2MwMDFhMDYwZDIxOTEyNjhiMDQ1YjU4OTc4YTU0YWU2Yjk2ODZhY2Y4M2YzYmFlMjA5MTc="
      responses:
        '200':
          description: Token refreshed successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Token refreshed successfully"
                  data:
                    type: object
                    properties:
                      access_token:
                        type: string
                        description: JWT access token baru
                        example: "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9..."
                      refresh_token:
                        type: string
                        description: Refresh token baru
                        example: "YTllYzdjMmViOWQ2ZjFiYTA3NDM0MzM5OTIzY2MwMDFhMDYwZDIxOTEyNjhiMDQ1YjU4OTc4YTU0YWU2Yjk2ODZhY2Y4M2YzYmFlMjA5MTc="
                      expires_in:
                        type: integer
                        description: Waktu kadaluarsa access token dalam detik
                        example: 1200
                      token_type:
                        type: string
                        description: Tipe token
                        example: "Bearer"
              example:
                status: true
                message: "Token refreshed successfully"
                data:
                  access_token: "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjgwMDAvYXBpL2F1dGgvcmVmcmVzaCIsImlhdCI6MTc1NTUyMTM1MywiZXhwIjoxNzU1NTI0OTUzLCJuYmYiOjE3NTU1MjEzNTMsImp0aSI6Im5LNTRJcTZnNjh5RFNUMTQiLCJzdWIiOiIxIiwicHJ2IjoiMjNiZDVjODk0OWY2MDBhZGIzOWU3MDFjNDAwODcyZGI3YTU5NzZmNyJ9.3yuWzORlJ0sFIDeLZt_2c7zt86dnViCVrHdKiq1i56o"
                  refresh_token: "YTllYzdjMmViOWQ2ZjFiYTA3NDM0MzM5OTIzY2MwMDFhMDYwZDIxOTEyNjhiMDQ1YjU4OTc4YTU0YWU2Yjk2ODZhY2Y4M2YzYmFlMjA5MTc="
                  expires_in: 1200
                  token_type: "Bearer"
        '400':
          description: Bad Request - Refresh token tidak ada
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Refresh token is required"
        '401':
          description: Unauthorized - Refresh token tidak valid atau expired
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Invalid or expired refresh token"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Internal server error"
        '503':
          description: Service Unavailable
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Service temporarily unavailable"

  /auth/profile:
    get:
      tags: [Authentication]
      summary: Get user profile
      description: |
        Endpoint untuk mengambil data profil user yang sedang login.
        Mengembalikan informasi dasar karyawan termasuk foto profil.
      security: [BearerAuth: []]
      responses:
        '200':
          description: Profil user berhasil diambil
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Profile fetched successfully"
                  data:
                    type: object
                    properties:
                      employee_id:
                        type: string
                        description: ID karyawan
                        example: "S0242422"
                      employee_name:
                        type: string
                        description: Nama lengkap karyawan
                        example: "Sarah Wijaya"
                      email:
                        type: string
                        format: email
                        description: Email karyawan
                        example: "example.employee@sigma.co.id"
                      phone_number:
                        type: string
                        description: Nomor telepon
                        example: "081234567890"
                      company:
                        type: string
                        description: Nama perusahaan
                        example: "Telkomsigma"
                      company_address:
                        type: string
                        description: Alamat perusahaan
                        example: "Jl. Telekomunikasi No.1, Bandung"
                      photo_profile_ess:
                        type: string
                        format: uri
                        description: URL foto profil
                        example: "http://127.0.0.1:8000/storage/profile_photos/default.jpg"
              example:
                status: true
                message: "Profile fetched successfully"
                data:
                  employee_id: "S0242422"
                  employee_name: "Sarah Wijaya"
                  email: "example.employee@sigma.co.id"
                  phone_number: "081234567890"
                  company: "Telkomsigma"
                  company_address: "Jl. Telekomunikasi No.1, Bandung"
                  photo_profile_ess: "http://127.0.0.1:8000/storage/profile_photos/default.jpg"
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Unauthenticated."
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Internal server error"
    put:
      tags: [Authentication]
      summary: Update user profile
      description: |
        Endpoint untuk mengupdate profil user. Mendukung upload foto profil dengan format JPG/PNG
        maksimal 10MB. Semua field bersifat opsional.
      security: [BearerAuth: []]
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                email:
                  type: string
                  format: email
                  description: Email baru (opsional)
                  example: "example.employee@sigma.co.id"
                phone_number:
                  type: string
                  description: Nomor telepon baru (opsional)
                  example: "081234567890"
                company_address:
                  type: string
                  description: Alamat perusahaan baru (opsional)
                  example: "Jl. Telekomunikasi No.1, Bandung"
                photo_profile_ess:
                  type: string
                  format: binary
                  description: Foto profil (JPG, PNG, max 10MB)
            example:
              email: "example.employee@sigma.co.id"
              phone_number: "081234567890"
              company_address: "Jl. Telekomunikasi No.1, Bandung"
              photo_profile_ess: "[FILE]"
      responses:
        '200':
          description: Profile updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Profile updated successfully"
                  data:
                    type: object
                    properties:
                      employee_id:
                        type: string
                        description: ID karyawan
                        example: "S0242422"
                      employee_name:
                        type: string
                        description: Nama lengkap karyawan
                        example: "Sarah Wijaya"
                      email:
                        type: string
                        format: email
                        description: Email karyawan
                        example: "example.employee@sigma.co.id"
                      phone_number:
                        type: string
                        description: Nomor telepon
                        example: "081234567890"
                      company:
                        type: string
                        description: Nama perusahaan
                        example: "Telkomsigma"
                      company_address:
                        type: string
                        description: Alamat perusahaan
                        example: "Jl. Telekomunikasi No.1, Bandung"
                      photo_profile_ess:
                        type: string
                        format: uri
                        description: URL foto profil
                        example: "http://127.0.0.1:8000/storage/profile_photos/default.jpg"
              example:
                status: true
                message: "Profile updated successfully"
                data:
                  employee_id: "S0242422"
                  employee_name: "Sarah Wijaya"
                  email: "example.employee@sigma.co.id"
                  phone_number: "081234567890"
                  company: "Telkomsigma"
                  company_address: "Jl. Telekomunikasi No.1, Bandung"
                  photo_profile_ess: "http://127.0.0.1:8000/storage/profile_photos/default.jpg"
        '422':
          description: Validation Error - Data tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationErrorResponse'
              example:
                status: false
                messages:
                  email:
                    - "The email field must be a valid email address."
                  photo_profile_ess:
                    - "The photo_profile_ess must be a file of type: jpg, jpeg, png."
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Unauthenticated."
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Internal server error"

  /employee/basic-information:
    get:
      tags: [Employee]
      summary: Get employee basic information
      description: |
        Mengambil data informasi dasar karyawan yang sedang login. Data yang dikembalikan adalah data utama karyawan 
        yang dapat digunakan untuk menampilkan profil di aplikasi ESS. Data ini hanya untuk read-only, 
        untuk update harus melalui change request.
      security: [BearerAuth: []]
      responses:
        '200':
          description: Employee basic information retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Employee basic information retrieved successfully"
                  data:
                    type: object
                    properties:
                      name:
                        type: string
                        description: Nama lengkap karyawan
                        example: "Sarah Wijaya"
                      photo:
                        type: string
                        description: URL foto profil karyawan
                        example: "http://127.0.0.1:8000/storage/profile_photos/photo.jpg"
                      birth_place:
                        type: string
                        description: Tempat lahir
                        example: "Jakarta"
                      birth_date:
                        type: string
                        format: date
                        description: Tanggal lahir (YYYY-MM-DD)
                        example: "1990-01-01"
                      gender:
                        type: string
                        description: Jenis kelamin
                        example: "Female"
                      no_ktp:
                        type: string
                        description: Nomor KTP
                        example: "1234567890123456"
                      passport_number:
                        type: string
                        description: Nomor paspor (jika ada)
                        example: "1212345678"
                      religion:
                        type: string
                        description: Agama
                        example: "ISLAM"
                      marital_status:
                        type: string
                        description: Status pernikahan
                        example: "Single"
                      nationality:
                        type: string
                        description: Kewarganegaraan
                        example: "Indonesia"
                      clothing_size:
                        type: string
                        description: Ukuran pakaian
                        example: "M"
                      main_phone_number:
                        type: string
                        description: Nomor telepon utama
                        example: "081234567890"
                      secondary_phone_number:
                        type: string
                        description: Nomor telepon sekunder
                        example: "081298765432"
                      private_email:
                        type: string
                        description: Email pribadi
                        example: "example.employee@gmail.com"
                      ktp_doc:
                        type: string
                        description: URL dokumen KTP
                        example: "http://127.0.0.1:8000/storage/documents/ktp.pdf"
              example:
                status: true
                message: "Employee basic information retrieved successfully"
                data:
                  name: "Sarah Wijaya"
                  photo: "http://127.0.0.1:8000/storage/profile_photos/photo.jpg"
                  birth_place: "Jakarta"
                  birth_date: "1990-01-01"
                  gender: "Female"
                  no_ktp: "1234567890123456"
                  passport_number: "1212345678"
                  religion: "ISLAM"
                  marital_status: "Single"
                  nationality: "Indonesia"
                  clothing_size: "M"
                  main_phone_number: "081234567890"
                  secondary_phone_number: "081298765432"
                  private_email: "example.employee@gmail.com"
                  ktp_doc: "http://127.0.0.1:8000/storage/documents/ktp.pdf"
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '404':
          description: Not Found - Data karyawan tidak ditemukan
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Employee data not found"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to retrieve basic information"
  /employee/address:
    get:
      tags: [Employee]
      summary: Get employee address
      description: |
        Mengambil data alamat resmi (KTP) dan alamat domisili karyawan. Data ini digunakan untuk menampilkan 
        dan mengelola alamat pada aplikasi ESS. Data ini hanya untuk read-only, untuk update harus melalui change request.
      security: [BearerAuth: []]
      responses:
        '200':
          description: Employee address retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Employee address retrieved successfully"
                  data:
                    type: object
                    properties:
                      official_address:
                        type: object
                        description: Alamat sesuai KTP
                        properties:
                          detail_ktp:
                            type: string
                            description: Alamat lengkap KTP
                            example: "Jl. Sudirman No. 123, RT 001/RW 002, Kelurahan Tanah Abang, Kecamatan Tanah Abang"
                          province_ktp:
                            type: string
                            description: Nama provinsi KTP
                            example: "DKI Jakarta"
                          city_ktp:
                            type: string
                            description: Nama kota KTP
                            example: "Jakarta Pusat"
                          postal_code_ktp:
                            type: string
                            description: Kode pos KTP
                            example: "10230"
                          sub_distric_ktp:
                            type: string
                            description: Kecamatan KTP
                            example: "Tanah Abang"
                          administrative_village_ktp:
                            type: string
                            description: Kelurahan KTP
                            example: "Kelurahan Tanah Abang"
                          rt_ktp:
                            type: string
                            description: RT KTP
                            example: "001"
                          rw_ktp:
                            type: string
                            description: RW KTP
                            example: "002"
                          street_name_ktp:
                            type: string
                            description: Nama jalan KTP
                            example: "Jl. Sudirman"
                          house_number_ktp:
                            type: string
                            description: Nomor rumah KTP
                            example: "123"
                      domicile_address:
                        type: object
                        description: Alamat domisili saat ini
                        properties:
                          detail_domicile:
                            type: string
                            description: Alamat lengkap domisili
                            example: "Jl. Gatot Subroto No. 456, RT 003/RW 004, Kelurahan Setiabudi, Kecamatan Setiabudi"
                          province_domicile:
                            type: string
                            description: Nama provinsi domisili
                            example: "DKI Jakarta"
                          city_domicile:
                            type: string
                            description: Nama kota domisili
                            example: "Jakarta Selatan"
                          postal_code_domicile:
                            type: string
                            description: Kode pos domisili
                            example: "12920"
                          sub_distric_domicile:
                            type: string
                            description: Kecamatan domisili
                            example: "Setiabudi"
                          administrative_village_domicile:
                            type: string
                            description: Kelurahan domisili
                            example: "Kelurahan Setiabudi"
                          rt_domicile:
                            type: string
                            description: RT domisili
                            example: "003"
                          rw_domicile:
                            type: string
                            description: RW domisili
                            example: "004"
                          street_name_domicile:
                            type: string
                            description: Nama jalan domisili
                            example: "Jl. Gatot Subroto"
                          house_number_domicile:
                            type: string
                            description: Nomor rumah domisili
                            example: "456"
              example:
                status: true
                message: "Employee address retrieved successfully"
                data:
                  official_address:
                    detail_ktp: "Jl. Sudirman No. 123, RT 001/RW 002, Kelurahan Tanah Abang, Kecamatan Tanah Abang"
                    province_ktp: "DKI Jakarta"
                    city_ktp: "Jakarta Pusat"
                    postal_code_ktp: "10230"
                    sub_distric_ktp: "Tanah Abang"
                    administrative_village_ktp: "Kelurahan Tanah Abang"
                    rt_ktp: "001"
                    rw_ktp: "002"
                    street_name_ktp: "Jl. Sudirman"
                    house_number_ktp: "123"
                  domicile_address:
                    detail_domicile: "Jl. Gatot Subroto No. 456, RT 003/RW 004, Kelurahan Setiabudi, Kecamatan Setiabudi"
                    province_domicile: "DKI Jakarta"
                    city_domicile: "Jakarta Selatan"
                    postal_code_domicile: "12920"
                    sub_distric_domicile: "Setiabudi"
                    administrative_village_domicile: "Kelurahan Setiabudi"
                    rt_domicile: "003"
                    rw_domicile: "004"
                    street_name_domicile: "Jl. Gatot Subroto"
                    house_number_domicile: "456"
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '404':
          description: Not Found - Data karyawan tidak ditemukan
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Employee data not found"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to retrieve address information"
  /employee/emergency-contact:
    get:
      tags: [Employee]
      summary: Get employee emergency contact
      description: |
        Mengambil data kontak darurat karyawan. Saat ini hanya support satu kontak darurat per karyawan.
        Data ini hanya untuk read-only, untuk update harus melalui change request.
      security: [BearerAuth: []]
      responses:
        '200':
          description: Employee emergency contact information retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Employee emergency contact information retrieved successfully"
                  data:
                    type: object
                    properties:
                      emgc_name:
                        type: string
                        description: Nama kontak darurat
                        example: "David Chen"
                      emgc_relationship:
                        type: string
                        description: Hubungan dengan karyawan
                        example: "ADIK"
                      emgc_number:
                        type: string
                        description: Nomor telepon kontak darurat
                        example: "08123456789"
                      emgc_address:
                        type: string
                        description: Alamat kontak darurat
                        example: "Jl. Mawar No. 10, Jakarta"
              example:
                status: true
                message: "Employee emergency contact information retrieved successfully"
                data:
                  emgc_name: "David Chen"
                  emgc_relationship: "ADIK"
                  emgc_number: "08123456789"
                  emgc_address: "Jl. Mawar No. 10, Jakarta"
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '404':
          description: Not Found - Data karyawan tidak ditemukan
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Employee data not found"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to retrieve emergency contact information"

  /employee/change-request:
    post:
      tags: [Change Request]
      summary: Create change request (update personal data with approval workflow)
      description: |
        Semua permintaan perubahan data personal (informasi dasar, alamat, kontak darurat, dll) harus dikirim ke endpoint ini. 
        Data akan masuk ke workflow approval admin. Jika disetujui, data utama akan diupdate oleh sistem.
        
        **Alur:**
        1. User mengisi form perubahan data di FE (misal: basic info, address, emergency contact, dll)
        2. FE mengirim POST ke /employee/change-request dengan body sesuai tipe perubahan
        3. Data masuk ke status Draft/Waiting Approval
        4. Admin review dan approve/reject via dashboard admin
        5. Jika approved, data utama diupdate oleh sistem
        
        **Catatan:**
        - Primary path: `/employee/change-request` (recommended)
        - Tidak ada update langsung ke endpoint data utama (PUT di /employee/basic-information, /employee/address, dll return 405)
        - Semua perubahan terekam di tabel change_requests (audit trail)
      security: [BearerAuth: []]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [change_type, new_data, reason_change, consent]
              properties:
                change_type:
                  type: string
                  enum: [BSC, ADR, EMC, PYR, FMY, EDC, SSI, MDR]
                  description: Jenis perubahan (BSC=Basic Info, ADR=Address, EMC=Emergency Contact, dst)
                  example: "BSC"
                new_data:
                  type: object
                  description: Data baru yang diajukan (struktur sesuai tipe perubahan)
                  example:
                    name: "Sarah Wijaya"
                    birth_place: "Jakarta"
                    birth_date: "1990-01-01"
                reason_change:
                  type: string
                  description: Alasan perubahan
                  example: "Perubahan data karena salah input."
                consent:
                  type: boolean
                  description: Persetujuan user
                  example: true
                attachments:
                  type: array
                  items: 
                    type: string
                  description: Daftar file attachment (opsional)
                  example: ["file1.pdf", "file2.jpg"]
                submit:
                  type: boolean
                  description: true=submit, false=simpan draft
                  example: true
      responses:
        '201':
          description: Change request berhasil dibuat
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Change request created successfully"
                  data:
                    type: object
                    properties:
                      change_request_id:
                        type: integer
                        description: ID change request
                        example: 1
                      request_code:
                        type: string
                        description: Kode request yang di-generate
                        example: "REQ-210824-BSC-001"
                      status_code:
                        type: string
                        description: Kode status
                        example: "2"
                      status_label:
                        type: string
                        description: Label status
                        example: "Waiting Approval"
              example:
                status: true
                message: "Change request created successfully"
                data:
                  change_request_id: 1
                  request_code: "REQ-210824-BSC-001"
                  status_code: "2"
                  status_label: "Waiting Approval"
        '400':
          description: Bad Request - Data tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Following the request type"
                error_code: "BAD_REQUEST"
                action: "contact_support"
                errors:
                  change_type:
                    - "The change type field is required."
                  reason_change:
                    - "The reason change field is required."
                  consent:
                    - "The consent field is required."
                  new_data:
                    - "The new data field is required."
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '422':
          description: Validation Error - Data tidak sesuai format
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationErrorResponse'
              example:
                status: false
                messages:
                  new_data:
                    - "This field is required."
                  change_type:
                    - "The change type field is required."
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to create change request"
    get:
      tags: [Change Request]
      summary: Get list of change requests
      description: |
        Mengambil daftar change request yang dibuat oleh user yang sedang login.
        Mendukung pagination dan filtering berdasarkan status.
        
        **Primary path:** `/employee/change-request`
      security: [BearerAuth: []]
      parameters:
        - name: limit
          in: query
          description: Jumlah data per halaman
          schema:
            type: integer
            default: 10
          example: 10
        - name: offset
          in: query
          description: Offset data
          schema:
            type: integer
            default: 0
          example: 0
        - name: status
          in: query
          description: Filter berdasarkan status
          schema:
            type: string
            enum: [Draft, Waiting Approval, Need Revision, Approved]
          example: "Waiting Approval"
      responses:
        '200':
          description: Change requests retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Change requests retrieved successfully"
                  data:
                    type: object
                    properties:
                      change_requests:
                        type: array
                        description: Daftar change request
                        items:
                          type: object
                          properties:
                            id:
                              type: integer
                              description: ID change request
                              example: 1
                            request_code:
                              type: string
                              description: Kode request
                              example: "REQ-210824-BSC-001"
                            change_type:
                              type: string
                              description: Tipe perubahan
                              example: "BSC"
                            status_code:
                              type: string
                              description: Kode status
                              example: "2"
                            status_label:
                              type: string
                              description: Label status
                              example: "Waiting Approval"
                            created_date:
                              type: string
                              format: date
                              description: Tanggal dibuat
                              example: "21-08-2024"
                            created_by:
                              type: string
                              description: Dibuat oleh
                              example: "S0242422"
                            old_data:
                              type: object
                              description: Data lama
                              example: {}
                            new_data:
                              type: object
                              description: Data baru
                              example: {}
                      total_records:
                        type: integer
                        description: Total jumlah records
                        example: 25
                      pagination:
                        type: object
                        properties:
                          limit:
                            type: integer
                            example: 10
                          offset:
                            type: integer
                            example: 0
                          has_next:
                            type: boolean
                            example: true
              example:
                status: true
                message: "Change requests retrieved successfully"
                data:
                  change_requests:
                    - id: 1
                      request_code: "REQ-210824-BSC-001"
                      change_type: "BSC"
                      status_code: "2"
                      status_label: "Waiting Approval"
                      created_date: "21-08-2024"
                      created_by: "S0242422"
                      old_data: {}
                      new_data: {}
                  total_records: 25
                  pagination:
                    limit: 10
                    offset: 0
                    has_next: true
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to retrieve change requests"

  /employee/change-request/{id_change_req}:
    get:
      tags: [Change Request]
      summary: Get change request detail
      description: |
        Mengambil detail change request berdasarkan ID.
        
        **Primary path:** `/employee/change-request/{id_change_req}`
      security: [BearerAuth: []]
      parameters:
        - name: id_change_req
          in: path
          required: true
          description: ID change request
          schema:
            type: integer
          example: 1
      responses:
        '200':
          description: Change request detail retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Change request detail retrieved successfully"
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        description: ID change request
                        example: 1
                      request_code:
                        type: string
                        description: Kode request
                        example: "REQ-210824-BSC-001"
                      request_type:
                        type: string
                        description: Tipe request
                        example: "BSC"
                      status_code:
                        type: string
                        description: Kode status
                        example: "2"
                      status_label:
                        type: string
                        description: Label status
                        example: "Waiting Approval"
                      created_date:
                        type: string
                        format: date
                        description: Tanggal dibuat
                        example: "21-08-2024"
                      created_by:
                        type: string
                        description: Dibuat oleh
                        example: "S0242422"
                      old_data:
                        type: object
                        description: Data lama
                        example: {}
                      new_data:
                        type: object
                        description: Data baru
                        example: {}
              example:
                status: true
                message: "Change request detail retrieved successfully"
                data:
                  id: 1
                  request_code: "REQ-210824-BSC-001"
                  change_type: "BSC"
                  status_code: "2"
                  status_label: "Waiting Approval"
                  created_date: "21-08-2024"
                  created_by: "S0242422"
                  old_data: {}
                  new_data: {}
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '404':
          description: Not Found - Change request tidak ditemukan
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Change request not found"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to retrieve change request detail"
    put:
      tags: [Change Request]
      summary: Update change request
      description: |
        Mengupdate change request. Hanya bisa diupdate jika status masih Draft.
        
        **Primary path:** `/employee/change-request/{id_change_req}`
      security: [BearerAuth: []]
      parameters:
        - name: id_change_req
          in: path
          required: true
          description: ID change request
          schema:
            type: integer
          example: 1
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [data]
              properties:
                data:
                  type: object
                  properties:
                    new_data:
                      type: object
                      description: Data baru yang akan diupdate
                      example:
                        name: "Sarah Wijaya Updated"
                        birth_place: "Jakarta"
                    submit:
                      type: boolean
                      description: true=submit, false=simpan draft
                      example: true
            example:
              data:
                new_data:
                  name: "Sarah Wijaya Updated"
                  birth_place: "Jakarta"
                submit: true
      responses:
        '200':
          description: Change request updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Change request updated successfully"
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 1
                      request_code:
                        type: string
                        example: "REQ-210824-BSC-001"
                      request_type:
                        type: string
                        example: "BSC"
                      status_code:
                        type: string
                        example: "2"
                      status_label:
                        type: string
                        example: "Waiting Approval"
                      created_date:
                        type: string
                        example: "21-08-2024"
                      created_by:
                        type: string
                        example: "S0242422"
                      new_data:
                        type: object
                        example: {}
              example:
                status: true
                message: "Change request updated successfully"
                data:
                  id: 1
                  request_code: "REQ-210824-BSC-001"
                  change_type: "BSC"
                  status_code: "2"
                  status_label: "Waiting Approval"
                  created_date: "21-08-2024"
                  created_by: "S0242422"
                  new_data: {}
        '400':
          description: Bad Request - Hanya draft yang bisa diupdate
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Only draft requests can be updated"
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '404':
          description: Not Found - Change request tidak ditemukan
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Change request not found"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to update change request"
    delete:
      tags: [Change Request]
      summary: Delete change request (soft delete)
      description: |
        Menghapus change request secara soft delete. Hanya bisa dihapus jika status masih Draft.
        
        **Primary path:** `/employee/change-request/{id_change_req}`
      security: [BearerAuth: []]
      parameters:
        - name: id_change_req
          in: path
          required: true
          description: ID change request
          schema:
            type: integer
          example: 1
      responses:
        '200':
          description: Change request deleted successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Change request deleted successfully"
              example:
                status: true
                message: "Change request deleted successfully"
        '400':
          description: Bad Request - Hanya draft yang bisa dihapus
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Only draft requests can be deleted"
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '404':
          description: Not Found - Change request tidak ditemukan
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Change request not found"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to delete change request"

  /employee/change-request/hard-delete/{id_change_req}:
    delete:
      tags: [Change Request]
      summary: Hard delete change request
      description: |
        Menghapus change request secara permanen dari database. Hanya bisa dilakukan oleh admin.
      security: [BearerAuth: []]
      parameters:
        - name: id_change_req
          in: path
          required: true
          description: ID change request yang akan dihapus permanen
          schema:
            type: integer
          example: 1
      responses:
        '200':
          description: Change request deleted successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Change request deleted successfully"
              example:
                status: true
                message: "Change request deleted successfully"
        '400':
          description: Bad Request - Hanya draft yang bisa dihapus
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Only draft requests can be deleted"
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '404':
          description: Not Found - Change request tidak ditemukan
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Change request not found"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to delete change request"

  /master-api:
    get:
      tags: [Master Data]
      summary: Get all master data
      description: |
        Mengambil semua master data atau berdasarkan kategori dan subkategori.
        Mendukung filtering berdasarkan category dan subcategory.
        
        **Primary path:** `/master-api`
      security: [BearerAuth: []]
      parameters:
        - name: category
          in: query
          description: Filter berdasarkan kategori
          schema:
            type: string
          example: "education"
        - name: subcategory
          in: query
          description: Filter berdasarkan subkategori
          schema:
            type: string
          example: "level"
      responses:
        '200':
          description: Master data retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Master data retrieved successfully"
                  data:
                    type: array
                    description: Daftar master data
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                          description: ID master data
                          example: 1
                        category:
                          type: string
                          description: Kategori
                          example: "education"
                        subcategory:
                          type: string
                          description: Subkategori
                          example: "level"
                        code:
                          type: string
                          description: Kode
                          example: "S1"
                        name:
                          type: string
                          description: Nama
                          example: "Sarjana"
                        description:
                          type: string
                          description: Deskripsi
                          example: "Sarjana (S1)"
                        is_active:
                          type: boolean
                          description: Status aktif
                          example: true
              example:
                status: true
                message: "Master data retrieved successfully"
                data:
                  - id: 1
                    category: "education"
                    subcategory: "level"
                    code: "S1"
                    name: "Sarjana"
                    description: "Sarjana (S1)"
                    is_active: true
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to retrieve master data"

  /master-api/{category}:
    get:
      tags: [Master Data]
      summary: Get master data by category
      description: |
        Mengambil master data berdasarkan kategori tertentu.
        
        **Primary path:** `/master-api/{category}`
      security: [BearerAuth: []]
      parameters:
        - name: category
          in: path
          required: true
          description: Kategori master data
          schema:
            type: string
            enum: [GENDER, MARITAL_STATUS, RELIGION, NATIONALITY, CLOTHING_SIZE, BLOOD_TYPE, EMPLOYMENT_STATUS, CHANGE_REQUEST_STATUS]
          example: "GENDER"
      responses:
        '200':
          description: Master data by category retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Master data by category retrieved successfully"
                  data:
                    type: array
                    description: Daftar master data berdasarkan kategori
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                          description: ID master data
                          example: 1
                        category:
                          type: string
                          description: Kategori
                          example: "GENDER"
                        subcategory:
                          type: string
                          description: Subkategori
                          example: null
                        code:
                          type: string
                          description: Kode
                          example: "M"
                        name:
                          type: string
                          description: Nama
                          example: "Male"
                        description:
                          type: string
                          description: Deskripsi
                          example: "Laki-laki"
                        is_active:
                          type: boolean
                          description: Status aktif
                          example: true
              example:
                status: true
                message: "Master data by category retrieved successfully"
                data:
                  - id: 1
                    category: "GENDER"
                    subcategory: null
                    code: "M"
                    name: "Male"
                    description: "Laki-laki"
                    is_active: true
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to retrieve master data by category"

  /master-api/{category}/{subcategory}:
    get:
      tags: [Master Data]
      summary: Get master data by category and subcategory
      description: |
        Mengambil master data berdasarkan kategori dan subkategori tertentu.
        
        **Primary path:** `/master-api/{category}/{subcategory}`
      security: [BearerAuth: []]
      parameters:
        - name: category
          in: path
          required: true
          description: Kategori master data
          schema:
            type: string
          example: "education"
        - name: subcategory
          in: path
          required: true
          description: Subkategori master data
          schema:
            type: string
          example: "level"
      responses:
        '200':
          description: Master data by category and subcategory retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Master data by category and subcategory retrieved successfully"
                  data:
                    type: array
                    description: Daftar master data berdasarkan kategori dan subkategori
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                          description: ID master data
                          example: 1
                        category:
                          type: string
                          description: Kategori
                          example: "education"
                        subcategory:
                          type: string
                          description: Subkategori
                          example: "level"
                        code:
                          type: string
                          description: Kode
                          example: "S1"
                        name:
                          type: string
                          description: Nama
                          example: "Sarjana"
                        description:
                          type: string
                          description: Deskripsi
                          example: "Sarjana (S1)"
                        is_active:
                          type: boolean
                          description: Status aktif
                          example: true
              example:
                status: true
                message: "Master data by category and subcategory retrieved successfully"
                data:
                  - id: 1
                    category: "education"
                    subcategory: "level"
                    code: "S1"
                    name: "Sarjana"
                    description: "Sarjana (S1)"
                    is_active: true
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to retrieve master data by category and subcategory"

  /master-api/banks:
    get:
      tags: [Master Data]
      summary: Get bank master data
      description: |
        Mengambil master data bank untuk dropdown/lookup.
      security: [BearerAuth: []]
      responses:
        '200':
          description: Bank master data retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Bank master data retrieved successfully"
                  data:
                    type: object
                    properties:
                      items:
                        type: array
                        items:
                          type: object
                          properties:
                            id_bank:
                              type: integer
                              example: 86
                            bank_name:
                              type: string
                              example: "BANK ACEH SYARIAH"
                            bank_key_sap:
                              type: string
                              nullable: true
                              example: null
                      total_records:
                        type: integer
                        example: 514
              example:
                status: true
                message: "Bank master data retrieved successfully"
                data:
                  items:
                    - id_bank: 86
                      bank_name: "BANK ACEH SYARIAH"
                      bank_key_sap: null
                    - id_bank: 89
                      bank_name: "BANK ALADIN SYARIAH"
                      bank_key_sap: null
                  total_records: 514
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /master-api/cities:
    get:
      tags: [Master Data]
      summary: Get city master data
      description: |
        Mengambil master data kota/kabupaten.
      security: [BearerAuth: []]
      parameters:
        - name: id_province
          in: query
          description: Filter berdasarkan ID provinsi
          schema:
            type: integer
          example: 1
      responses:
        '200':
          description: City master data retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "City master data retrieved successfully"
                  data:
                    type: object
                    properties:
                      items:
                        type: array
                        items:
                          type: object
                          properties:
                            id_city:
                              type: integer
                              example: 1
                            id_province:
                              type: integer
                              example: 1
                            city_name:
                              type: string
                              example: "Kabupaten Aceh Barat"
                      total_records:
                        type: integer
                        example: 514
              example:
                status: true
                message: "City master data retrieved successfully"
                data:
                  items:
                    - id_city: 1
                      id_province: 1
                      city_name: "Kabupaten Aceh Barat"
                  total_records: 514
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /master-api/edu-institutions:
    get:
      tags: [Master Data]
      summary: Get education institution master data
      description: |
        Mengambil master data institusi pendidikan.
      security: [BearerAuth: []]
      parameters:
        - name: q
          in: query
          description: Search query untuk nama institusi
          schema:
            type: string
          example: "Universitas"
      responses:
        '200':
          description: Education institution master data retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Education institution master data retrieved successfully"
                  data:
                    type: object
                    properties:
                      items:
                        type: array
                        items:
                          type: object
                          properties:
                            id_edu_institution:
                              type: integer
                              example: 9544
                            code_jarvis:
                              type: string
                              example: "ID-AAJ"
                            name:
                              type: string
                              example: "AMIK Andalan Jakarta"
                            id_sp:
                              type: string
                              nullable: true
                            code_dikti:
                              type: string
                              nullable: true
                      total_records:
                        type: integer
                        example: 514
              example:
                status: true
                message: "Education institution master data retrieved successfully"
                data:
                  items:
                    - id_edu_institution: 9544
                      code_jarvis: "ID-AAJ"
                      name: "AMIK Andalan Jakarta"
                      id_sp: null
                      code_dikti: null
                  total_records: 514
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /master-api/edu-levels:
    get:
      tags: [Master Data]
      summary: Get education level master data
      description: |
        Mengambil master data jenjang pendidikan.
      security: [BearerAuth: []]
      responses:
        '200':
          description: Education level master data retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Education level master data retrieved successfully"
                  data:
                    type: object
                    properties:
                      items:
                        type: array
                        items:
                          type: object
                          properties:
                            id_edu_level:
                              type: integer
                              example: 6
                            name:
                              type: string
                              example: "D1"
                            code_jarvis:
                              type: integer
                              example: 40
                      total_records:
                        type: integer
                        example: 514
              example:
                status: true
                message: "Education level master data retrieved successfully"
                data:
                  items:
                    - id_edu_level: 6
                      name: "D1"
                      code_jarvis: 40
                  total_records: 514
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /master-api/edu-majors:
    get:
      tags: [Master Data]
      summary: Get education major master data
      description: |
        Mengambil master data jurusan pendidikan.
      security: [BearerAuth: []]
      responses:
        '200':
          description: Education major master data retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Education major master data retrieved successfully"
                  data:
                    type: object
                    properties:
                      items:
                        type: array
                        items:
                          type: object
                          properties:
                            id_edu_major:
                              type: integer
                              example: 5234
                            name:
                              type: string
                              example: "Akuntansi"
                            major_code:
                              type: string
                              example: "62101"
                            id_sp:
                              type: string
                              example: "2E629B15-90B0-4001-95D0-026A30C8D814"
                      total_records:
                        type: integer
                        example: 514
              example:
                status: true
                message: "Education major master data retrieved successfully"
                data:
                  items:
                    - id_edu_major: 5234
                      name: "Akuntansi"
                      major_code: "62101"
                      id_sp: "2E629B15-90B0-4001-95D0-026A30C8D814"
                  total_records: 514
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /master-api/provinces:
    get:
      tags: [Master Data]
      summary: Get province master data
      description: |
        Mengambil master data provinsi.
      security: [BearerAuth: []]
      parameters:
        - name: id_country
          in: query
          description: Filter berdasarkan ID negara
          schema:
            type: integer
          example: 1
      responses:
        '200':
          description: Province master data retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Province master data retrieved successfully"
                  data:
                    type: object
                    properties:
                      items:
                        type: array
                        items:
                          type: object
                          properties:
                            id_province:
                              type: integer
                              example: 17
                            id_country:
                              type: integer
                              example: 1
                            province_name:
                              type: string
                              example: "Bali"
                      total_records:
                        type: integer
                        example: 34
              example:
                status: true
                message: "Province master data retrieved successfully"
                data:
                  items:
                    - id_province: 17
                      id_country: 1
                      province_name: "Bali"
                  total_records: 34
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /master-api/tax-statuses:
    get:
      tags: [Master Data]
      summary: Get tax status master data
      description: |
        Mengambil master data status pajak.
      security: [BearerAuth: []]
      responses:
        '200':
          description: Tax status master data retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Tax status master data retrieved successfully"
                  data:
                    type: object
                    properties:
                      items:
                        type: array
                        items:
                          type: object
                          properties:
                            id_status_pajak:
                              type: integer
                              example: 12
                            status_pajak:
                              type: string
                              example: "K/0"
                      total_records:
                        type: integer
                        example: 12
              example:
                status: true
                message: "Tax status master data retrieved successfully"
                data:
                  items:
                    - id_status_pajak: 12
                      status_pajak: "K/0"
                    - id_status_pajak: 5
                      status_pajak: "K/1"
                  total_records: 12
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /master-api/nations:
    get:
      tags: [Master Data]
      summary: Get country master data
      description: |
        Mengambil master data negara (nations/countries) untuk kebutuhan dropdown/lookup.
      security: [BearerAuth: []]
      parameters:
        - name: offset
          in: query
          description: Posisi awal data (zero-based)
          schema:
            type: integer
            minimum: 0
            default: 0
          example: 0
        - name: limit
          in: query
          description: Jumlah data per halaman
          schema:
            type: integer
            minimum: 1
            maximum: 1000
            default: 100
          example: 100
        - name: id_country
          in: query
          description: Filter berdasarkan ID negara
          schema:
            type: integer
          example: 1
        - name: country_name
          in: query
          description: Filter berdasarkan nama negara (mengandung/LIKE, case-insensitive)
          schema:
            type: string
          example: "Indonesia"
      responses:
        '200':
          description: Country master data retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Country master data retrieved successfully"
                  data:
                    type: object
                    properties:
                      items:
                        type: array
                        items:
                          type: object
                          properties:
                            id_country:
                              type: integer
                              example: 1
                            country_name:
                              type: string
                              example: "Indonesia"
                      total_records:
                        type: integer
                        example: 195
              example:
                status: true
                message: "Country master data retrieved successfully"
                data:
                  items:
                    - id_country: 1
                      country_name: "Indonesia"
                  total_records: 195
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /dashboard:
    get:
      tags: [Dashboard]
      summary: Get dashboard data
      description: |
        Mengambil data dashboard untuk user yang sedang login.
        Termasuk informasi employee dan daftar aplikasi yang tersedia.
      security: [BearerAuth: []]
      responses:
        '200':
          description: Dashboard data retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Dashboard data retrieved successfully"
                  data:
                    type: object
                    properties:
                      employee:
                        type: object
                        properties:
                          employee_id:
                            type: string
                            description: ID employee
                            example: "S0242422"
                          employee_name:
                            type: string
                            description: Nama employee
                            example: "Sarah Wijaya"
                          email:
                            type: string
                            description: Email employee
                            example: "sarah.wijaya@company.com"
                          phone_number:
                            type: string
                            description: Nomor telepon
                            example: "08123456789"
                          company:
                            type: string
                            description: Nama perusahaan
                            example: "PT Sigma Cipta Caraka"
                          company_address:
                            type: string
                            description: Alamat perusahaan
                            example: "Jl. Sudirman No. 1, Jakarta"
                          photo_profile_ess:
                            type: string
                            description: URL foto profil
                            example: "https://example.com/photos/profile.jpg"
                      apps:
                        type: array
                        description: Daftar aplikasi yang tersedia
                        items:
                          type: object
                          properties:
                            id:
                              type: integer
                              description: ID aplikasi
                              example: 1
                            app_name:
                              type: string
                              description: Nama aplikasi
                              example: "HR Management"
                            app_description:
                              type: string
                              description: Deskripsi aplikasi
                              example: "Sistem manajemen HR"
                            app_url:
                              type: string
                              description: URL aplikasi
                              example: "https://hr.company.com"
                            app_icon:
                              type: string
                              description: URL ikon aplikasi
                              example: "https://example.com/icons/hr.png"
                            platform:
                              type: string
                              description: Platform aplikasi
                              example: "web"
                            is_favorite:
                              type: boolean
                              description: Status favorit
                              example: false
              example:
                status: true
                message: "Dashboard data retrieved successfully"
                data:
                  employee:
                    employee_id: "S0242422"
                    employee_name: "Sarah Wijaya"
                    email: "sarah.wijaya@company.com"
                    phone_number: "08123456789"
                    company: "PT Sigma Cipta Caraka"
                    company_address: "Jl. Sudirman No. 1, Jakarta"
                    photo_profile_ess: "https://example.com/photos/profile.jpg"
                  apps:
                    - id: 1
                      app_name: "HR Management"
                      app_description: "Sistem manajemen HR"
                      app_url: "https://hr.company.com"
                      app_icon: "https://example.com/icons/hr.png"
                      platform: "web"
                      is_favorite: false
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to retrieve dashboard data"

  /dashboard/favorite-apps:
    get:
      tags: [Dashboard]
      summary: Get favorite apps
      description: |
        Mengambil daftar aplikasi favorit user yang sedang login.
      security: [BearerAuth: []]
      responses:
        '200':
          description: Favorite apps retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Favorite apps retrieved successfully"
                  data:
                    type: array
                    description: Daftar aplikasi favorit
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                          description: ID aplikasi favorit
                          example: 1
                        app_catalog_id:
                          type: integer
                          description: ID katalog aplikasi
                          example: 1
                        app_name:
                          type: string
                          description: Nama aplikasi
                          example: "HR Management"
                        app_description:
                          type: string
                          description: Deskripsi aplikasi
                          example: "Sistem manajemen HR"
                        app_url:
                          type: string
                          description: URL aplikasi
                          example: "https://hr.company.com"
                        app_icon:
                          type: string
                          description: URL ikon aplikasi
                          example: "https://example.com/icons/hr.png"
                        platform:
                          type: string
                          description: Platform aplikasi
                          example: "web"
                        created_at:
                          type: string
                          format: date-time
                          description: Tanggal ditambahkan ke favorit
                          example: "2024-08-21T10:00:00Z"
              example:
                status: true
                message: "Favorite apps retrieved successfully"
                data:
                  - id: 1
                    app_catalog_id: 1
                    app_name: "HR Management"
                    app_description: "Sistem manajemen HR"
                    app_url: "https://hr.company.com"
                    app_icon: "https://example.com/icons/hr.png"
                    platform: "web"
                    created_at: "2024-08-21T10:00:00Z"
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to retrieve favorite apps"
    post:
      tags: [Dashboard]
      summary: Add favorite app
      description: |
        Menambahkan aplikasi ke daftar favorit user.
      security: [BearerAuth: []]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [app_catalog_id]
              properties:
                app_catalog_id:
                  type: integer
                  description: ID katalog aplikasi yang akan ditambahkan ke favorit
                  example: 1
            example:
              app_catalog_id: 1
      responses:
        '201':
          description: App added to favorites successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "App added to favorites successfully"
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        description: ID aplikasi favorit
                        example: 1
                      app_catalog_id:
                        type: integer
                        description: ID katalog aplikasi
                        example: 1
                      app_name:
                        type: string
                        description: Nama aplikasi
                        example: "HR Management"
                      created_at:
                        type: string
                        format: date-time
                        description: Tanggal ditambahkan ke favorit
                        example: "2024-08-21T10:00:00Z"
              example:
                status: true
                message: "App added to favorites successfully"
                data:
                  id: 1
                  app_catalog_id: 1
                  app_name: "HR Management"
                  created_at: "2024-08-21T10:00:00Z"
        '400':
          description: Bad Request - App sudah ada di favorit
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "App already in favorites"
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '404':
          description: Not Found - App tidak ditemukan
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "App not found"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to add app to favorites"

  /dashboard/favorite-apps/{id}:
    delete:
      tags: [Dashboard]
      summary: Remove favorite app
      description: |
        Menghapus aplikasi dari daftar favorit user.
      security: [BearerAuth: []]
      parameters:
        - name: id
          in: path
          required: true
          description: ID aplikasi favorit yang akan dihapus
          schema:
            type: integer
          example: 1
      responses:
        '200':
          description: App removed from favorites successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "App removed from favorites successfully"
              example:
                status: true
                message: "App removed from favorites successfully"
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '404':
          description: Not Found - Favorite app tidak ditemukan
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Favorite app not found"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to remove app from favorites"

  /dashboard/apps:
    get:
      tags: [Dashboard]
      summary: Get apps by platform
      description: |
        Mengambil daftar aplikasi berdasarkan platform (web/mobile).
      security: [BearerAuth: []]
      parameters:
        - name: platform
          in: query
          description: Platform aplikasi
          schema:
            type: string
            enum: [web, mobile]
          example: "web"
      responses:
        '200':
          description: Apps by platform retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Apps by platform retrieved successfully"
                  data:
                    type: array
                    description: Daftar aplikasi berdasarkan platform
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                          description: ID aplikasi
                          example: 1
                        app_name:
                          type: string
                          description: Nama aplikasi
                          example: "HR Management"
                        app_description:
                          type: string
                          description: Deskripsi aplikasi
                          example: "Sistem manajemen HR"
                        app_url:
                          type: string
                          description: URL aplikasi
                          example: "https://hr.company.com"
                        app_icon:
                          type: string
                          description: URL ikon aplikasi
                          example: "https://example.com/icons/hr.png"
                        platform:
                          type: string
                          description: Platform aplikasi
                          example: "web"
                        is_favorite:
                          type: boolean
                          description: Status favorit
                          example: false
              example:
                status: true
                message: "Apps by platform retrieved successfully"
                data:
                  - id: 1
                    app_name: "HR Management"
                    app_description: "Sistem manajemen HR"
                    app_url: "https://hr.company.com"
                    app_icon: "https://example.com/icons/hr.png"
                    platform: "web"
                    is_favorite: false
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to retrieve apps by platform"

  /employee/consents/active:
    get:
      tags: [Consent]
      summary: Get active consents
      description: |
        Mengambil daftar consent yang aktif untuk user yang sedang login.
        
        **Path:** `/employee/consents/active`
      security: [BearerAuth: []]
      responses:
        '200':
          description: Active consents retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Active consents retrieved successfully"
                  data:
                    type: array
                    description: Daftar consent aktif
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                          description: ID consent
                          example: 1
                        consent_type:
                          type: string
                          description: Tipe consent
                          example: "data_processing"
                        title:
                          type: string
                          description: Judul consent
                          example: "Data Processing Consent"
                        description:
                          type: string
                          description: Deskripsi consent
                          example: "I agree to the processing of my personal data"
                        is_required:
                          type: boolean
                          description: Apakah consent wajib
                          example: true
                        is_active:
                          type: boolean
                          description: Status aktif
                          example: true
                        created_at:
                          type: string
                          format: date-time
                          description: Tanggal dibuat
                          example: "2024-08-21T10:00:00Z"
              example:
                status: true
                message: "Active consents retrieved successfully"
                data:
                  - id: 1
                    consent_type: "data_processing"
                    title: "Data Processing Consent"
                    description: "I agree to the processing of my personal data"
                    is_required: true
                    is_active: true
                    created_at: "2024-08-21T10:00:00Z"
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to retrieve active consents"

  /employee/consents/status:
    get:
      tags: [Consent]
      summary: Get consent status
      description: |
        Mengambil status consent user untuk consent tertentu.
        
        **Path:** `/employee/consents/status`
      security: [BearerAuth: []]
      parameters:
        - name: consent_id
          in: query
          required: true
          description: ID consent yang akan dicek statusnya
          schema:
            type: integer
          example: 1
      responses:
        '200':
          description: Consent status retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Consent status retrieved successfully"
                  data:
                    type: object
                    properties:
                      consent_id:
                        type: integer
                        description: ID consent
                        example: 1
                      consent_type:
                        type: string
                        description: Tipe consent
                        example: "data_processing"
                      title:
                        type: string
                        description: Judul consent
                        example: "Data Processing Consent"
                      user_consent:
                        type: boolean
                        description: Status consent user
                        example: true
                      consented_at:
                        type: string
                        format: date-time
                        description: Tanggal user memberikan consent
                        example: "2024-08-21T10:00:00Z"
                      is_required:
                        type: boolean
                        description: Apakah consent wajib
                        example: true
              example:
                status: true
                message: "Consent status retrieved successfully"
                data:
                  consent_id: 1
                  consent_type: "data_processing"
                  title: "Data Processing Consent"
                  user_consent: true
                  consented_at: "2024-08-21T10:00:00Z"
                  is_required: true
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '404':
          description: Not Found - Consent tidak ditemukan
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Consent not found"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to retrieve consent status"

  /employee/consents:
    post:
      tags: [Consent]
      summary: Create consent
      description: |
        Membuat consent baru untuk user yang sedang login.
        
        **Path:** `/employee/consents`
      security: [BearerAuth: []]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [consent_id, consent_value]
              properties:
                consent_id:
                  type: integer
                  description: ID consent yang akan dibuat
                  example: 1
                consent_value:
                  type: boolean
                  description: Nilai consent (true/false)
                  example: true
            example:
              consent_id: 1
              consent_value: true
      responses:
        '201':
          description: Consent created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Consent created successfully"
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        description: ID consent user
                        example: 1
                      consent_id:
                        type: integer
                        description: ID consent
                        example: 1
                      consent_value:
                        type: boolean
                        description: Nilai consent
                        example: true
                      created_at:
                        type: string
                        format: date-time
                        description: Tanggal dibuat
                        example: "2024-08-21T10:00:00Z"
              example:
                status: true
                message: "Consent created successfully"
                data:
                  id: 1
                  consent_id: 1
                  consent_value: true
                  created_at: "2024-08-21T10:00:00Z"
        '400':
          description: Bad Request - Data tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Invalid consent data"
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '422':
          description: Validation Error - Data tidak sesuai format
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationErrorResponse'
              example:
                status: false
                messages:
                  consent_id:
                    - "The consent id field is required."
                  consent_value:
                    - "The consent value field is required."
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to create consent"

  /employee/consents/{id_consent}:
    put:
      tags: [Consent]
      summary: Update consent
      description: |
        Mengupdate consent user yang sudah ada.
        
        **Path:** `/employee/consents/{id_consent}`
      security: [BearerAuth: []]
      parameters:
        - name: id_consent
          in: path
          required: true
          description: ID consent user yang akan diupdate
          schema:
            type: integer
          example: 1
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [consent_value]
              properties:
                consent_value:
                  type: boolean
                  description: Nilai consent baru (true/false)
                  example: false
            example:
              consent_value: false
      responses:
        '200':
          description: Consent updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Consent updated successfully"
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        description: ID consent user
                        example: 1
                      consent_id:
                        type: integer
                        description: ID consent
                        example: 1
                      consent_value:
                        type: boolean
                        description: Nilai consent
                        example: false
                      updated_at:
                        type: string
                        format: date-time
                        description: Tanggal diupdate
                        example: "2024-08-21T10:00:00Z"
              example:
                status: true
                message: "Consent updated successfully"
                data:
                  id: 1
                  consent_id: 1
                  consent_value: false
                  updated_at: "2024-08-21T10:00:00Z"
        '400':
          description: Bad Request - Data tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Invalid consent data"
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '404':
          description: Not Found - Consent tidak ditemukan
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Consent not found"
        '422':
          description: Validation Error - Data tidak sesuai format
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationErrorResponse'
              example:
                status: false
                messages:
                  consent_value:
                    - "The consent value field is required."
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to update consent"

  /employee/consents/list:
    get:
      tags: [Consent]
      summary: Get all consents
      description: |
        Mengambil semua consent yang tersedia (tidak hanya yang aktif).
        
        **Path:** `/employee/consents/list`
      security: [BearerAuth: []]
      responses:
        '200':
          description: All consents retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "All consents retrieved successfully"
                  data:
                    type: array
                    description: Daftar semua consent
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                          description: ID consent
                          example: 1
                        consent_type:
                          type: string
                          description: Tipe consent
                          example: "data_processing"
                        title:
                          type: string
                          description: Judul consent
                          example: "Data Processing Consent"
                        description:
                          type: string
                          description: Deskripsi consent
                          example: "I agree to the processing of my personal data"
                        is_required:
                          type: boolean
                          description: Apakah consent wajib
                          example: true
                        is_active:
                          type: boolean
                          description: Status aktif
                          example: true
                        created_at:
                          type: string
                          format: date-time
                          description: Tanggal dibuat
                          example: "2024-08-21T10:00:00Z"
              example:
                status: true
                message: "All consents retrieved successfully"
                data:
                  - id: 1
                    consent_type: "data_processing"
                    title: "Data Processing Consent"
                    description: "I agree to the processing of my personal data"
                    is_required: true
                    is_active: true
                    created_at: "2024-08-21T10:00:00Z"
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to retrieve all consents"

  /roles:
    get:
      tags: [RBAC]
      summary: Get all roles
      description: |
        Mengambil daftar semua roles yang tersedia dalam sistem.
      security: [BearerAuth: []]
      responses:
        '200':
          description: Roles retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Roles retrieved successfully"
                  data:
                    type: array
                    description: Daftar roles
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                          description: ID role
                          example: 1
                        name:
                          type: string
                          description: Nama role
                          example: "admin"
                        display_name:
                          type: string
                          description: Nama tampilan role
                          example: "Administrator"
                        description:
                          type: string
                          description: Deskripsi role
                          example: "Full system access"
                        created_at:
                          type: string
                          format: date-time
                          description: Tanggal dibuat
                          example: "2024-08-21T10:00:00Z"
                        updated_at:
                          type: string
                          format: date-time
                          description: Tanggal diupdate
                          example: "2024-08-21T10:00:00Z"
              example:
                status: true
                message: "Roles retrieved successfully"
                data:
                  - id: 1
                    name: "admin"
                    display_name: "Administrator"
                    description: "Full system access"
                    created_at: "2024-08-21T10:00:00Z"
                    updated_at: "2024-08-21T10:00:00Z"
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to retrieve roles"
    post:
      tags: [RBAC]
      summary: Create role
      description: |
        Membuat role baru dalam sistem.
      security: [BearerAuth: []]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [name, display_name]
              properties:
                name:
                  type: string
                  description: Nama role (unique)
                  example: "manager"
                display_name:
                  type: string
                  description: Nama tampilan role
                  example: "Manager"
                description:
                  type: string
                  description: Deskripsi role
                  example: "Manager level access"
            example:
              name: "manager"
              display_name: "Manager"
              description: "Manager level access"
      responses:
        '201':
          description: Role created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Role created successfully"
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        description: ID role
                        example: 2
                      name:
                        type: string
                        description: Nama role
                        example: "manager"
                      display_name:
                        type: string
                        description: Nama tampilan role
                        example: "Manager"
                      description:
                        type: string
                        description: Deskripsi role
                        example: "Manager level access"
                      created_at:
                        type: string
                        format: date-time
                        description: Tanggal dibuat
                        example: "2024-08-21T10:00:00Z"
              example:
                status: true
                message: "Role created successfully"
                data:
                  id: 2
                  name: "manager"
                  display_name: "Manager"
                  description: "Manager level access"
                  created_at: "2024-08-21T10:00:00Z"
        '400':
          description: Bad Request - Role sudah ada
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Role with this name already exists"
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '422':
          description: Validation Error - Data tidak sesuai format
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationErrorResponse'
              example:
                status: false
                messages:
                  name:
                    - "The name field is required."
                  display_name:
                    - "The display name field is required."
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to create role"

  /roles/{id}:
    get:
      tags: [RBAC]
      summary: Get role detail
      description: |
        Mengambil detail role berdasarkan ID.
      security: [BearerAuth: []]
      parameters:
        - name: id
          in: path
          required: true
          description: ID role
          schema:
            type: integer
          example: 1
      responses:
        '200':
          description: Role detail retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Role detail retrieved successfully"
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        description: ID role
                        example: 1
                      name:
                        type: string
                        description: Nama role
                        example: "admin"
                      display_name:
                        type: string
                        description: Nama tampilan role
                        example: "Administrator"
                      description:
                        type: string
                        description: Deskripsi role
                        example: "Full system access"
                      permissions:
                        type: array
                        description: Daftar permissions yang dimiliki role
                        items:
                          type: object
                          properties:
                            id:
                              type: integer
                              description: ID permission
                              example: 1
                            name:
                              type: string
                              description: Nama permission
                              example: "user.create"
                            display_name:
                              type: string
                              description: Nama tampilan permission
                              example: "Create User"
                      created_at:
                        type: string
                        format: date-time
                        description: Tanggal dibuat
                        example: "2024-08-21T10:00:00Z"
                      updated_at:
                        type: string
                        format: date-time
                        description: Tanggal diupdate
                        example: "2024-08-21T10:00:00Z"
              example:
                status: true
                message: "Role detail retrieved successfully"
                data:
                  id: 1
                  name: "admin"
                  display_name: "Administrator"
                  description: "Full system access"
                  permissions:
                    - id: 1
                      name: "user.create"
                      display_name: "Create User"
                  created_at: "2024-08-21T10:00:00Z"
                  updated_at: "2024-08-21T10:00:00Z"
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '404':
          description: Not Found - Role tidak ditemukan
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Role not found"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to retrieve role detail"
    put:
      tags: [RBAC]
      summary: Update role
      description: |
        Mengupdate role yang sudah ada.
      security: [BearerAuth: []]
      parameters:
        - name: id
          in: path
          required: true
          description: ID role yang akan diupdate
          schema:
            type: integer
          example: 1
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                display_name:
                  type: string
                  description: Nama tampilan role
                  example: "Administrator Updated"
                description:
                  type: string
                  description: Deskripsi role
                  example: "Updated full system access"
            example:
              display_name: "Administrator Updated"
              description: "Updated full system access"
      responses:
        '200':
          description: Role updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Role updated successfully"
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        description: ID role
                        example: 1
                      name:
                        type: string
                        description: Nama role
                        example: "admin"
                      display_name:
                        type: string
                        description: Nama tampilan role
                        example: "Administrator Updated"
                      description:
                        type: string
                        description: Deskripsi role
                        example: "Updated full system access"
                      updated_at:
                        type: string
                        format: date-time
                        description: Tanggal diupdate
                        example: "2024-08-21T10:00:00Z"
              example:
                status: true
                message: "Role updated successfully"
                data:
                  id: 1
                  name: "admin"
                  display_name: "Administrator Updated"
                  description: "Updated full system access"
                  updated_at: "2024-08-21T10:00:00Z"
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '404':
          description: Not Found - Role tidak ditemukan
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Role not found"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to update role"
    delete:
      tags: [RBAC]
      summary: Delete role
      description: |
        Menghapus role dari sistem.
      security: [BearerAuth: []]
      parameters:
        - name: id
          in: path
          required: true
          description: ID role yang akan dihapus
          schema:
            type: integer
          example: 1
      responses:
        '200':
          description: Role deleted successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Role deleted successfully"
              example:
                status: true
                message: "Role deleted successfully"
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '404':
          description: Not Found - Role tidak ditemukan
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Role not found"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to delete role"

  /roles/{id}/permissions:
    post:
      tags: [RBAC]
      summary: Add permissions to role
      description: |
        Menambahkan permissions ke role tertentu.
      security: [BearerAuth: []]
      parameters:
        - name: id
          in: path
          required: true
          description: ID role
          schema:
            type: integer
          example: 1
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [permission_ids]
              properties:
                permission_ids:
                  type: array
                  items:
                    type: integer
                  description: Daftar ID permissions yang akan ditambahkan
                  example: [1, 2, 3]
            example:
              permission_ids: [1, 2, 3]
      responses:
        '200':
          description: Permissions added to role successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Permissions added to role successfully"
                  data:
                    type: object
                    properties:
                      role_id:
                        type: integer
                        description: ID role
                        example: 1
                      added_permissions:
                        type: array
                        description: Daftar permissions yang ditambahkan
                        items:
                          type: object
                          properties:
                            id:
                              type: integer
                              description: ID permission
                              example: 1
                            name:
                              type: string
                              description: Nama permission
                              example: "user.create"
                            display_name:
                              type: string
                              description: Nama tampilan permission
                              example: "Create User"
              example:
                status: true
                message: "Permissions added to role successfully"
                data:
                  role_id: 1
                  added_permissions:
                    - id: 1
                      name: "user.create"
                      display_name: "Create User"
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '404':
          description: Not Found - Role tidak ditemukan
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Role not found"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to add permissions to role"

  /permissions:
    get:
      tags: [RBAC]
      summary: Get all permissions
      description: |
        Mengambil daftar semua permissions yang tersedia dalam sistem.
      security: [BearerAuth: []]
      responses:
        '200':
          description: Permissions retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Permissions retrieved successfully"
                  data:
                    type: array
                    description: Daftar permissions
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                          description: ID permission
                          example: 1
                        name:
                          type: string
                          description: Nama permission
                          example: "user.create"
                        display_name:
                          type: string
                          description: Nama tampilan permission
                          example: "Create User"
                        description:
                          type: string
                          description: Deskripsi permission
                          example: "Permission to create new users"
                        created_at:
                          type: string
                          format: date-time
                          description: Tanggal dibuat
                          example: "2024-08-21T10:00:00Z"
                        updated_at:
                          type: string
                          format: date-time
                          description: Tanggal diupdate
                          example: "2024-08-21T10:00:00Z"
              example:
                status: true
                message: "Permissions retrieved successfully"
                data:
                  - id: 1
                    name: "user.create"
                    display_name: "Create User"
                    description: "Permission to create new users"
                    created_at: "2024-08-21T10:00:00Z"
                    updated_at: "2024-08-21T10:00:00Z"
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to retrieve permissions"
    post:
      tags: [RBAC]
      summary: Create permission
      description: |
        Membuat permission baru dalam sistem.
      security: [BearerAuth: []]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [name, display_name]
              properties:
                name:
                  type: string
                  description: Nama permission (unique)
                  example: "user.edit"
                display_name:
                  type: string
                  description: Nama tampilan permission
                  example: "Edit User"
                description:
                  type: string
                  description: Deskripsi permission
                  example: "Permission to edit existing users"
            example:
              name: "user.edit"
              display_name: "Edit User"
              description: "Permission to edit existing users"
      responses:
        '201':
          description: Permission created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Permission created successfully"
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        description: ID permission
                        example: 2
                      name:
                        type: string
                        description: Nama permission
                        example: "user.edit"
                      display_name:
                        type: string
                        description: Nama tampilan permission
                        example: "Edit User"
                      description:
                        type: string
                        description: Deskripsi permission
                        example: "Permission to edit existing users"
                      created_at:
                        type: string
                        format: date-time
                        description: Tanggal dibuat
                        example: "2024-08-21T10:00:00Z"
              example:
                status: true
                message: "Permission created successfully"
                data:
                  id: 2
                  name: "user.edit"
                  display_name: "Edit User"
                  description: "Permission to edit existing users"
                  created_at: "2024-08-21T10:00:00Z"
        '400':
          description: Bad Request - Permission sudah ada
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Permission with this name already exists"
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '422':
          description: Validation Error - Data tidak sesuai format
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationErrorResponse'
              example:
                status: false
                messages:
                  name:
                    - "The name field is required."
                  display_name:
                    - "The display name field is required."
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to create permission"

  /permissions/{id}:
    put:
      tags: [RBAC]
      summary: Update permission
      description: |
        Mengupdate permission yang sudah ada.
      security: [BearerAuth: []]
      parameters:
        - name: id
          in: path
          required: true
          description: ID permission yang akan diupdate
          schema:
            type: integer
          example: 1
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                display_name:
                  type: string
                  description: Nama tampilan permission
                  example: "Create User Updated"
                description:
                  type: string
                  description: Deskripsi permission
                  example: "Updated permission to create new users"
            example:
              display_name: "Create User Updated"
              description: "Updated permission to create new users"
      responses:
        '200':
          description: Permission updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Permission updated successfully"
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        description: ID permission
                        example: 1
                      name:
                        type: string
                        description: Nama permission
                        example: "user.create"
                      display_name:
                        type: string
                        description: Nama tampilan permission
                        example: "Create User Updated"
                      description:
                        type: string
                        description: Deskripsi permission
                        example: "Updated permission to create new users"
                      updated_at:
                        type: string
                        format: date-time
                        description: Tanggal diupdate
                        example: "2024-08-21T10:00:00Z"
              example:
                status: true
                message: "Permission updated successfully"
                data:
                  id: 1
                  name: "user.create"
                  display_name: "Create User Updated"
                  description: "Updated permission to create new users"
                  updated_at: "2024-08-21T10:00:00Z"
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '404':
          description: Not Found - Permission tidak ditemukan
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Permission not found"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to update permission"
    delete:
      tags: [RBAC]
      summary: Delete permission
      description: |
        Menghapus permission dari sistem.
      security: [BearerAuth: []]
      parameters:
        - name: id
          in: path
          required: true
          description: ID permission yang akan dihapus
          schema:
            type: integer
          example: 1
      responses:
        '200':
          description: Permission deleted successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Permission deleted successfully"
              example:
                status: true
                message: "Permission deleted successfully"
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '404':
          description: Not Found - Permission tidak ditemukan
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Permission not found"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to delete permission"

  /users:
    get:
      tags: [RBAC]
      summary: Get all users
      description: |
        Mengambil daftar semua users dalam sistem.
      security: [BearerAuth: []]
      parameters:
        - name: limit
          in: query
          description: Jumlah data per halaman
          schema:
            type: integer
            default: 10
          example: 10
        - name: offset
          in: query
          description: Offset data
          schema:
            type: integer
            default: 0
          example: 0
      responses:
        '200':
          description: Users retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Users retrieved successfully"
                  data:
                    type: object
                    properties:
                      users:
                        type: array
                        description: Daftar users
                        items:
                          type: object
                          properties:
                            id:
                              type: integer
                              description: ID user
                              example: 1
                            employee_id:
                              type: string
                              description: ID employee
                              example: "S0242422"
                            name:
                              type: string
                              description: Nama user
                              example: "Sarah Wijaya"
                            email:
                              type: string
                              description: Email user
                              example: "sarah.wijaya@company.com"
                            roles:
                              type: array
                              description: Daftar roles user
                              items:
                                type: object
                                properties:
                                  id:
                                    type: integer
                                    description: ID role
                                    example: 1
                                  name:
                                    type: string
                                    description: Nama role
                                    example: "admin"
                                  display_name:
                                    type: string
                                    description: Nama tampilan role
                                    example: "Administrator"
                            created_at:
                              type: string
                              format: date-time
                              description: Tanggal dibuat
                              example: "2024-08-21T10:00:00Z"
                      total_records:
                        type: integer
                        description: Total jumlah records
                        example: 25
                      pagination:
                        type: object
                        properties:
                          limit:
                            type: integer
                            example: 10
                          offset:
                            type: integer
                            example: 0
                          has_next:
                            type: boolean
                            example: true
              example:
                status: true
                message: "Users retrieved successfully"
                data:
                  users:
                    - id: 1
                      employee_id: "S0242422"
                      name: "Sarah Wijaya"
                      email: "sarah.wijaya@company.com"
                      roles:
                        - id: 1
                          name: "admin"
                          display_name: "Administrator"
                      created_at: "2024-08-21T10:00:00Z"
                  total_records: 25
                  pagination:
                    limit: 10
                    offset: 0
                    has_next: true
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to retrieve users"

  /users/{id}:
    get:
      tags: [RBAC]
      summary: Get user detail
      description: |
        Mengambil detail user berdasarkan ID.
      security: [BearerAuth: []]
      parameters:
        - name: id
          in: path
          required: true
          description: ID user
          schema:
            type: integer
          example: 1
      responses:
        '200':
          description: User detail retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "User detail retrieved successfully"
                  data:
                    type: object
                    properties:
                      id:
                        type: integer
                        description: ID user
                        example: 1
                      employee_id:
                        type: string
                        description: ID employee
                        example: "S0242422"
                      name:
                        type: string
                        description: Nama user
                        example: "Sarah Wijaya"
                      email:
                        type: string
                        description: Email user
                        example: "sarah.wijaya@company.com"
                      roles:
                        type: array
                        description: Daftar roles user
                        items:
                          type: object
                          properties:
                            id:
                              type: integer
                              description: ID role
                              example: 1
                            name:
                              type: string
                              description: Nama role
                              example: "admin"
                            display_name:
                              type: string
                              description: Nama tampilan role
                              example: "Administrator"
                      permissions:
                        type: array
                        description: Daftar permissions user
                        items:
                          type: object
                          properties:
                            id:
                              type: integer
                              description: ID permission
                              example: 1
                            name:
                              type: string
                              description: Nama permission
                              example: "user.create"
                            display_name:
                              type: string
                              description: Nama tampilan permission
                              example: "Create User"
                      created_at:
                        type: string
                        format: date-time
                        description: Tanggal dibuat
                        example: "2024-08-21T10:00:00Z"
                      updated_at:
                        type: string
                        format: date-time
                        description: Tanggal diupdate
                        example: "2024-08-21T10:00:00Z"
              example:
                status: true
                message: "User detail retrieved successfully"
                data:
                  id: 1
                  employee_id: "S0242422"
                  name: "Sarah Wijaya"
                  email: "sarah.wijaya@company.com"
                  roles:
                    - id: 1
                      name: "admin"
                      display_name: "Administrator"
                  permissions:
                    - id: 1
                      name: "user.create"
                      display_name: "Create User"
                  created_at: "2024-08-21T10:00:00Z"
                  updated_at: "2024-08-21T10:00:00Z"
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '404':
          description: Not Found - User tidak ditemukan
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "User not found"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to retrieve user detail"

  /users/{id}/roles:
    post:
      tags: [RBAC]
      summary: Assign roles to user
      description: |
        Menugaskan roles ke user tertentu.
      security: [BearerAuth: []]
      parameters:
        - name: id
          in: path
          required: true
          description: ID user
          schema:
            type: integer
          example: 1
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [role_ids]
              properties:
                role_ids:
                  type: array
                  items:
                    type: integer
                  description: Daftar ID roles yang akan ditugaskan
                  example: [1, 2]
            example:
              role_ids: [1, 2]
      responses:
        '200':
          description: Roles assigned to user successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Roles assigned to user successfully"
                  data:
                    type: object
                    properties:
                      user_id:
                        type: integer
                        description: ID user
                        example: 1
                      assigned_roles:
                        type: array
                        description: Daftar roles yang ditugaskan
                        items:
                          type: object
                          properties:
                            id:
                              type: integer
                              description: ID role
                              example: 1
                            name:
                              type: string
                              description: Nama role
                              example: "admin"
                            display_name:
                              type: string
                              description: Nama tampilan role
                              example: "Administrator"
              example:
                status: true
                message: "Roles assigned to user successfully"
                data:
                  user_id: 1
                  assigned_roles:
                    - id: 1
                      name: "admin"
                      display_name: "Administrator"
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '404':
          description: Not Found - User tidak ditemukan
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "User not found"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to assign roles to user"

  /employee/attachments/change-request/{id_change_req}:
    post:
      tags: [Attachments]
      summary: Upload attachment for change request
      description: |
        Upload file attachment untuk change request. Hanya bisa upload saat status Draft atau Need Revision.
        
        **Path:** `/employee/attachments/change-request/{id_change_req}`
      security: [BearerAuth: []]
      parameters:
        - name: id_change_req
          in: path
          required: true
          description: ID change request
          schema:
            type: integer
          example: 1
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              required: [file, document_type]
              properties:
                file:
                  type: string
                  format: binary
                  description: File yang diupload (png, jpg, jpeg, pdf; max 25MB)
                document_type:
                  type: string
                  description: Jenis dokumen/attachment
                  example: "KTP"
                client_key:
                  type: string
                  description: Kunci client opsional untuk tagging
            encoding:
              file:
                contentType: image/png, image/jpeg, application/pdf
      responses:
        '201':
          description: File uploaded successfully and bound to document type(s)
          content:
            application/json:
              schema:
                type: object
                properties:
                  status: { type: boolean, example: true }
                  message: { type: string, example: "File uploaded successfully and bound to 1 document type(s)" }
                  data:
                    type: object
                    properties:
                      id_change_request: { type: integer, example: 10 }
                      request_code: { type: string, example: "REQ-240101-BSC-001" }
                      file_name: { type: string, example: "ktp_sarah.pdf" }
                      file_size: { type: integer, example: 145678 }
                      file_size_display: { type: string, example: "142.3 KB" }
                      document_types:
                        type: array
                        items: { type: string }
                        example: ["KTP"]
                      spacebox_item_id: { type: string, example: "01HEZXK8EZR0G7X9R6F3W6S3D5" }
                      attachment_records:
                        type: array
                        items:
                          type: object
                          properties:
                            document_type: { type: string }
                            file_name: { type: string }
                            file_size: { type: integer }
                            item_id: { type: string }
                      total_attachments_created: { type: integer, example: 1 }
        '400':
          description: Validation failed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Validation failed: file is required"
                error_code: "BAD_REQUEST"
        '401':
          description: Unauthorized
          content:
            application/json:
              schema: { $ref: '#/components/schemas/ErrorResponse' }
        '404':
          description: Change request not found
          content:
            application/json:
              schema: { $ref: '#/components/schemas/ErrorResponse' }
        '409':
          description: Invalid status for attachment upload
          content:
            application/json:
              schema:
                type: object
                properties:
                  status: { type: boolean, example: false }
                  message: { type: string, example: 'Attachments can only be added for Draft or Need Revision requests' }
                  current_status: { type: string, example: '2' }
        '413':
          description: Payload Too Large (exceeds 25 MB)
          content:
            application/json:
              schema:
                type: object
                properties:
                  status: { type: boolean, example: false }
                  message: { type: string, example: 'File size exceeds the 25 MB limit' }
                  error_code: { type: string, example: 'PAYLOAD_TOO_LARGE' }
                  limit_mb: { type: integer, example: 25 }
                  received_mb: { type: number, format: float, example: 26.1 }
        '500':
          description: Failed to upload attachment
          content:
            application/json:
              schema: { $ref: '#/components/schemas/ErrorResponse' }

  /employee/attachments/{item_id}/preview:
    get:
      tags: [Attachments]
      summary: Generate preview link
      description: |
        **Path:** `/employee/attachments/{item_id}/preview`
      security: [BearerAuth: []]
      parameters:
        - name: item_id
          in: path
          required: true
          schema: { type: string }
      responses:
        '200':
          description: Preview link generated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status: { type: boolean, example: true }
                  message: { type: string, example: 'Preview link generated successfully' }
                  data:
                    type: object
                    properties:
                      preview_link: { type: string, format: uri }
                      item_id: { type: string }
                      id_employee: { type: string }
        '403':
          description: Access denied to this attachment
          content:
            application/json:
              schema: { $ref: '#/components/schemas/ErrorResponse' }
        '400':
          description: Failed to generate preview link
          content:
            application/json:
              schema: { $ref: '#/components/schemas/ErrorResponse' }

  /employee/attachments/{item_id}/download:
    get:
      tags: [Attachments]
      summary: Download attachment
      description: |
        **Path:** `/employee/attachments/{item_id}/download`
      security: [BearerAuth: []]
      parameters:
        - name: item_id
          in: path
          required: true
          schema: { type: string }
      responses:
        '200':
          description: File stream
          content:
            application/octet-stream:
              schema:
                type: string
                format: binary
        '403':
          description: Access denied to this attachment
          content:
            application/json:
              schema: { $ref: '#/components/schemas/ErrorResponse' }
        '404':
          description: Attachment not found
          content:
            application/json:
              schema: { $ref: '#/components/schemas/ErrorResponse' }
        '500':
          description: Internal server error
          content:
            application/json:
              schema: { $ref: '#/components/schemas/ErrorResponse' }

  /employee/attachments/{item_id}/information:
    get:
      tags: [Attachments]
      summary: Get attachment information
      description: |
        **Path:** `/employee/attachments/{item_id}/information`
      security: [BearerAuth: []]
      parameters:
        - name: item_id
          in: path
          required: true
          schema: { type: string }
      responses:
        '200':
          description: Attachment information
          content:
            application/json:
              schema:
                type: object
                properties:
                  item_id: { type: string }
                  name: { type: string }
                  size: { type: integer }
                  created_date: { type: string, format: date-time }
                  modified_date: { type: string, format: date-time }
                  mime_type: { type: string }
                  id_employee: { type: string }
        '403':
          description: Access denied to this attachment
          content:
            application/json:
              schema: { $ref: '#/components/schemas/ErrorResponse' }
        '500':
          description: Internal server error
          content:
            application/json:
              schema: { $ref: '#/components/schemas/ErrorResponse' }

  /employee/attachments/{item_id}/delete:
    delete:
      tags: [Attachments]
      summary: Delete attachment
      description: |
        **Path:** `/employee/attachments/{item_id}/delete`
      security: [BearerAuth: []]
      parameters:
        - name: item_id
          in: path
          required: true
          schema: { type: string }
      responses:
        '200':
          description: File deleted successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success: { type: boolean, example: true }
                  message: { type: string, example: 'File deleted successfully' }
                  item_id: { type: string }
                  id_employee: { type: string }
        '403':
          description: Access denied to this attachment
          content:
            application/json:
              schema: { $ref: '#/components/schemas/ErrorResponse' }
        '500':
          description: Internal server error
          content:
            application/json:
              schema: { $ref: '#/components/schemas/ErrorResponse' }

  /employee/attachments/parent/{parent_id}/item/{item_id}/preview:
    get:
      tags: [Attachments]
      summary: Generate preview link by parent
      description: |
        **Path:** `/employee/attachments/parent/{parent_id}/item/{item_id}/preview`
      security: [BearerAuth: []]
      parameters:
        - name: parent_id
          in: path
          required: true
          schema: { type: string }
        - name: item_id
          in: path
          required: true
          schema: { type: string }
      responses:
        '200':
          description: Preview link generated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status: { type: boolean, example: true }
                  message: { type: string, example: 'Preview link generated successfully' }
                  data:
                    type: object
                    properties:
                      preview_link: { type: string, format: uri }
                      item_id: { type: string }
                      id_employee: { type: string }
        '403':
          description: Access denied to this attachment
          content:
            application/json:
              schema: { $ref: '#/components/schemas/ErrorResponse' }

  /employee/attachments/parent/{parent_id}/item/{item_id}/download:
    get:
      tags: [Attachments]
      summary: Download attachment by parent
      description: |
        **Path:** `/employee/attachments/parent/{parent_id}/item/{item_id}/download`
      security: [BearerAuth: []]
      parameters:
        - name: parent_id
          in: path
          required: true
          schema: { type: string }
        - name: item_id
          in: path
          required: true
          schema: { type: string }
      responses:
        '200':
          description: File stream
          content:
            application/octet-stream:
              schema:
                type: string
                format: binary
        '403':
          description: Access denied to this attachment
          content:
            application/json:
              schema: { $ref: '#/components/schemas/ErrorResponse' }
        '404':
          description: Attachment not found
          content:
            application/json:
              schema: { $ref: '#/components/schemas/ErrorResponse' }

  /employee/exports:
    post:
      tags: [Export]
      summary: Export personal data as PDF
      description: |
        Mengekspor data personal karyawan dalam format PDF berdasarkan pilihan user.
        
        **Primary path:** `/employee/exports`
      security: [BearerAuth: []]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [data_types]
              properties:
                data_types:
                  oneOf:
                    - type: array
                      items:
                        type: string
                        enum: [Basic Information, Address, Emergency Contact, Account, Family, Education, Assignment, Employment information, Photo & Documents, Social Securities, Medical, Employment, basic_information, employment, address, family, emergency_contact, education, account, social_securities, medical]
                    - type: string
                      description: String JSON array untuk `data_types`
                      example: "[\"Basic Information\", \"Address\"]"
                include_documents:
                  type: boolean
                file_format:
                  type: string
                  enum: [pdf]
          multipart/form-data:
            schema:
              type: object
              required: [data_types]
              properties:
                data_types:
                  type: string
                  description: String JSON array untuk `data_types`
                  example: "[\"Basic Information\", \"Address\"]"
                include_documents:
                  type: boolean
                file_format:
                  type: string
                  enum: [pdf]
      responses:
        '200':
          description: PDF file stream
          content:
            application/pdf:
              schema:
                type: string
                format: binary
              examples:
                download:
                  summary: PDF download
                  value: ''
        '400':
          description: Bad Request - data_types kosong/invalid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: 'data_types tidak boleh kosong. Pilih minimal 1 jenis data untuk diekspor.'
        '404':
          description: Not Found - Employee tidak ditemukan
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: 'Data karyawan tidak ditemukan untuk ID yang diberikan.'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: 'Terjadi kesalahan saat membuat file PDF. Silakan coba lagi.'

  /employee/payroll-account:
    get:
      tags: [Employee]
      summary: Get employee payroll account
      description: |
        Mengambil data rekening payroll karyawan termasuk informasi bank, NPWP, dan dokumen pendukung.
        Data ini hanya untuk read-only, untuk update harus melalui change request.
      security: [BearerAuth: []]
      responses:
        '200':
          description: Employee payroll information retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Employee payroll information retrieved successfully"
                  data:
                    type: object
                    properties:
                      number_rekening:
                        type: string
                        description: Nomor rekening
                        example: "1234567890"
                      bank_id:
                        type: string
                        description: ID bank
                        example: "3"
                      bank:
                        type: string
                        description: Nama bank
                        example: "BCA"
                      holder_name:
                        type: string
                        description: Nama pemegang rekening
                        example: "Ahmad Rahman"
                      tax_status_id:
                        type: string
                        description: ID status pajak
                        example: "1"
                      tax_status:
                        type: string
                        description: Status pajak
                        example: "TK/0"
                      npwp:
                        type: string
                        description: Nomor NPWP
                        example: "321654987123000"
                      npwp_doc:
                        type: string
                        format: uri
                        description: URL dokumen NPWP
                        example: "https://www.gadjian.com/blog/wp-content/uploads/2023/07/Contoh-NPWP.png"
                      saving_book_doc:
                        type: string
                        format: uri
                        description: URL dokumen buku tabungan
                        example: "https://imgv2-1-f.scribdassets.com/img/document/514794367/original/48675c427f/1687635901?v=1"
              example:
                status: true
                message: "Employee payroll information retrieved successfully"
                data:
                  number_rekening: "1234567890"
                  bank_id: "3"
                  bank: "BCA"
                  holder_name: "Ahmad Rahman"
                  tax_status_id: "1"
                  tax_status: "TK/0"
                  npwp: "321654987123000"
                  npwp_doc: "https://www.gadjian.com/blog/wp-content/uploads/2023/07/Contoh-NPWP.png"
                  saving_book_doc: "https://imgv2-1-f.scribdassets.com/img/document/514794367/original/48675c427f/1687635901?v=1"
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '404':
          description: Not Found - Data karyawan tidak ditemukan
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Employee data not found"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to retrieve payroll information"
  /employee/family:
    get:
      tags: [Employee]
      summary: Get employee family information
      description: |
        Mengambil data anggota keluarga karyawan. Data ini hanya untuk read-only, 
        untuk update harus melalui change request.
      security: [BearerAuth: []]
      responses:
        '200':
          description: Employee family information retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Employee family information retrieved successfully"
                  data:
                    type: array
                    description: Daftar anggota keluarga
                    items:
                      type: object
                      properties:
                        name:
                          type: string
                          description: Nama anggota keluarga
                          example: "Fatimah Azzahra"
                        gender_id:
                          type: string
                          description: ID jenis kelamin
                          example: "2"
                        gender:
                          type: string
                          description: Jenis kelamin
                          example: "WANITA"
                        birth_date:
                          type: string
                          format: date
                          description: Tanggal lahir
                          example: "1965-10-12"
                        birth_place:
                          type: string
                          description: Tempat lahir
                          example: "Bandung"
                        address:
                          type: string
                          description: Alamat
                          example: "Jl. Bunga No. 8"
                        occupation:
                          type: string
                          description: Pekerjaan
                          example: "Ibu Rumah Tangga"
                        relation_id:
                          type: string
                          description: ID hubungan
                          example: "5"
                        relation:
                          type: string
                          description: Hubungan dengan karyawan
                          example: "IBU"
                        marital_status_id:
                          type: string
                          description: ID status pernikahan
                          example: "1"
                        marital_status:
                          type: string
                          description: Status pernikahan
                          example: "MENIKAH"
                        member_sequence:
                          type: integer
                          description: Urutan anggota keluarga
                          example: 1
                        no_telkomedika:
                          type: string
                          description: Nomor Telkomedika
                          example: "TKM123456"
                        member_status:
                          type: string
                          description: Status keanggotaan
                          example: "Active"
                        kk_doc:
                          type: string
                          format: uri
                          description: URL dokumen Kartu Keluarga
                          example: "https://www.bhuanajaya.desa.id/wp-content/uploads/images/kartu-keluarga-kk.webp"
              example:
                status: true
                message: "Employee family information retrieved successfully"
                data:
                  - name: "Fatimah Azzahra"
                    gender_id: "2"
                    gender: "WANITA"
                    birth_date: "1965-10-12"
                    birth_place: "Bandung"
                    address: "Jl. Bunga No. 8"
                    occupation: "Ibu Rumah Tangga"
                    relation_id: "5"
                    relation: "IBU"
                    marital_status_id: "1"
                    marital_status: "MENIKAH"
                    member_sequence: 1
                    no_telkomedika: "TKM123456"
                    member_status: "Active"
                    kk_doc: "https://www.bhuanajaya.desa.id/wp-content/uploads/images/kartu-keluarga-kk.webp"
                  - name: "Muhammad Rizki"
                    gender_id: "1"
                    gender: "PRIA"
                    birth_date: "1960-03-20"
                    birth_place: "Jakarta"
                    address: "Jl. Bunga No. 8"
                    occupation: "Wiraswasta"
                    relation_id: "4"
                    relation: "AYAH"
                    marital_status_id: "1"
                    marital_status: "MENIKAH"
                    member_sequence: 2
                    no_telkomedika: "TKM654321"
                    member_status: "Active"
                    kk_doc: "https://www.bhuanajaya.desa.id/wp-content/uploads/images/kartu-keluarga-kk.webp"
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '404':
          description: Not Found - Data karyawan tidak ditemukan
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Employee data not found"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to retrieve family information"
  /employee/education:
    get:
      tags: [Employee]
      summary: Get employee education information
      description: |
        Mengambil data riwayat pendidikan karyawan. Data ini hanya untuk read-only, 
        untuk update harus melalui change request.
      security: [BearerAuth: []]
      responses:
        '200':
          description: Employee education information retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Employee education information retrieved successfully"
                  data:
                    type: array
                    description: Daftar riwayat pendidikan
                    items:
                      type: object
                      properties:
                        edu_level_id:
                          type: integer
                          description: ID tingkat pendidikan
                          example: 1
                        edu_level:
                          type: string
                          description: Tingkat pendidikan
                          example: "S1"
                        edu_major_id:
                          type: integer
                          description: ID jurusan
                          example: 1
                        edu_major:
                          type: string
                          description: Jurusan
                          example: "Teknik Informatika"
                        edu_institution_id:
                          type: integer
                          description: ID institusi
                          example: 7858
                        edu_institution:
                          type: string
                          description: Nama institusi
                          example: "Universitas Indonesia"
                        edu_start_date:
                          type: string
                          format: date
                          description: Tanggal mulai
                          example: "2008-01-01"
                        edu_end_date:
                          type: string
                          format: date
                          description: Tanggal selesai
                          example: "2012-12-31"
                        ijazah_doc:
                          type: string
                          format: uri
                          description: URL dokumen ijazah
                          example: "https://i.pinimg.com/736x/68/54/20/68542058424b9a007f5182dd9d24b8ee.jpg"
              example:
                status: true
                message: "Employee education information retrieved successfully"
                data:
                  - edu_level_id: 1
                    edu_level: "S1"
                    edu_major_id: 1
                    edu_major: "Teknik Informatika"
                    edu_institution_id: 7858
                    edu_institution: "Universitas Indonesia"
                    edu_start_date: "2008-01-01"
                    edu_end_date: "2012-12-31"
                    ijazah_doc: "https://i.pinimg.com/736x/68/54/20/68542058424b9a007f5182dd9d24b8ee.jpg"
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '404':
          description: Not Found - Data karyawan tidak ditemukan
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Employee data not found"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to retrieve education information"
  /employee/social-securities:
    get:
      tags: [Employee]
      summary: Get employee social security & insurance information
      description: |
        Mengambil data jaminan sosial dan asuransi karyawan (Telkomedika, BPJS Ketenagakerjaan, BPJS Kesehatan).
        Data ini hanya untuk read-only, untuk update harus melalui change request.
      security: [BearerAuth: []]
      responses:
        '200':
          description: Employee social security & insurance information retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Employee social security & insurance information retrieved successfully"
                  data:
                    type: object
                    properties:
                      no_telkomedika:
                        type: string
                        description: Nomor Telkomedika
                        example: "1092832302301"
                      no_bpjs_tk:
                        type: string
                        description: Nomor BPJS Ketenagakerjaan
                        example: "23282932123456"
                      bpjs_tk_effective_date:
                        type: string
                        format: date
                        description: Tanggal efektif BPJS Ketenagakerjaan
                        example: "2015-01-01"
                      no_bpjs:
                        type: string
                        description: Nomor BPJS Kesehatan
                        example: "23829823654321"
                      telkomedika_doc:
                        type: string
                        format: uri
                        description: URL dokumen Telkomedika
                        example: "https://i.colnect.net/f/6891/506/Telkom_University_-_TelkoMedika.jpg"
                      bpjs_doc:
                        type: string
                        format: uri
                        description: URL dokumen BPJS
                        example: "https://tse2.mm.bing.net/th/id/OIP.H7mh-OS-o-xZ5l3Hgfu_ggHaEb?rs=1&pid=ImgDetMain&o=7&rm=3"
              example:
                status: true
                message: "Employee social security & insurance information retrieved successfully"
                data:
                  no_telkomedika: "1092832302301"
                  no_bpjs_tk: "23282932123456"
                  bpjs_tk_effective_date: "2015-01-01"
                  no_bpjs: "23829823654321"
                  telkomedika_doc: "https://i.colnect.net/f/6891/506/Telkom_University_-_TelkoMedika.jpg"
                  bpjs_doc: "https://tse2.mm.bing.net/th/id/OIP.H7mh-OS-o-xZ5l3Hgfu_ggHaEb?rs=1&pid=ImgDetMain&o=7&rm=3"
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '404':
          description: Not Found - Data karyawan tidak ditemukan
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Employee data not found"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to retrieve social security information"
  /employee/medical-record:
    get:
      tags: [Employee]
      summary: Get employee medical record information
      description: |
        Mengambil data rekam medis karyawan termasuk status kesehatan, MCU terakhir, dan riwayat medis.
        Data ini hanya untuk read-only, untuk update harus melalui change request.
      security: [BearerAuth: []]
      responses:
        '200':
          description: Employee medical record information retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Employee medical record information retrieved successfully"
                  data:
                    type: object
                    properties:
                      health_status:
                        type: string
                        description: Status kesehatan
                        example: "Fit"
                      last_mcu_date:
                        type: string
                        format: date
                        description: Tanggal MCU terakhir
                        example: "2023-06-15"
                      blood_type:
                        type: string
                        description: Golongan darah
                        example: "O"
                      height:
                        type: number
                        description: Tinggi badan (cm)
                        example: 170.5
                      weight:
                        type: number
                        description: Berat badan (kg)
                        example: 65
                      has_disability:
                        type: boolean
                        description: Memiliki disabilitas
                        example: false
                      head_size:
                        type: string
                        description: Ukuran kepala
                        example: "30 cm"
                      health_concern:
                        type: string
                        description: Kekhawatiran kesehatan
                        example: "Tidak ada"
                      medical_treatment_record:
                        type: string
                        description: Riwayat perawatan medis
                        example: "Tidak ada riwayat penyakit berat"
              example:
                status: true
                message: "Employee medical record information retrieved successfully"
                data:
                  health_status: "Fit"
                  last_mcu_date: "2023-06-15"
                  blood_type: "O"
                  height: 170.5
                  weight: 65
                  has_disability: false
                  head_size: "30 cm"
                  health_concern: "Tidak ada"
                  medical_treatment_record: "Tidak ada riwayat penyakit berat"
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '404':
          description: Not Found - Data karyawan tidak ditemukan
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Employee data not found"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to retrieve medical record information"
  /employee/employment-information:
    get:
      tags: [Employee]
      summary: Get employee employment information
      description: |
        Mengambil data informasi pekerjaan karyawan termasuk NIK, posisi, grade, dan struktur organisasi.
        Data ini hanya untuk read-only, untuk update harus melalui change request.
      security: [BearerAuth: []]
      responses:
        '200':
          description: Employee employment information retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Employee employment information retrieved successfully"
                  data:
                    type: object
                    properties:
                      nik:
                        type: string
                        description: Nomor Induk Karyawan
                        example: "3623243632523456"
                      nik_telkom:
                        type: string
                        description: NIK Telkom
                        example: "21462176421"
                      business_email:
                        type: string
                        format: email
                        description: Email bisnis
                        example: "sarah.wijaya@sigma.co.id"
                      directorate:
                        type: string
                        description: Direktorat
                        example: "Corporate IT"
                      business_unit:
                        type: string
                        description: Unit bisnis
                        example: "SCC"
                      divisi:
                        type: string
                        description: Divisi
                        example: "IT Development"
                      grade:
                        type: string
                        description: Grade karyawan
                        example: "7"
                      grade_date:
                        type: string
                        format: date
                        description: Tanggal grade
                        example: "2020-01-01"
                      band_position:
                        type: string
                        description: Band posisi
                        example: "Officer"
                      level:
                        type: string
                        description: Level karyawan
                        example: "Officer"
                      level_date:
                        type: string
                        format: date
                        description: Tanggal level
                        example: "2018-01-01"
                      position:
                        type: string
                        description: Posisi/jabatan
                        example: "Backend Developer"
                      supervisor:
                        type: string
                        description: Nama supervisor
                        example: "Supervisor Name"
              example:
                status: true
                message: "Employee employment information retrieved successfully"
                data:
                  nik: "3623243632523456"
                  nik_telkom: "21462176421"
                  business_email: "sarah.wijaya@sigma.co.id"
                  directorate: "Corporate IT"
                  business_unit: "SCC"
                  divisi: "IT Development"
                  grade: "7"
                  grade_date: "2020-01-01"
                  band_position: "Officer"
                  level: "Officer"
                  level_date: "2018-01-01"
                  position: "Backend Developer"
                  supervisor: "Supervisor Name"
        '401':
          description: Unauthorized - Token tidak valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Access token expired. Please refresh your token or login again."
                error_code: "TOKEN_EXPIRED"
                action: "refresh_token"
        '404':
          description: Not Found - Data karyawan tidak ditemukan
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Employee data not found"
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                status: false
                message: "Failed to retrieve employment information"

  /employee/update-histories/{id_change_req}:
    get:
      tags: [Change Request]
      summary: Get update history for change request
      description: |
        Mengambil riwayat perubahan (audit trail) untuk change request tertentu.
        
        **Path:** `/employee/update-histories/{id_change_req}`
      security: [BearerAuth: []]
      parameters:
        - name: id_change_req
          in: path
          required: true
          description: ID change request
          schema:
            type: integer
          example: 1
      responses:
        '200':
          description: Update history retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Update history retrieved successfully"
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                          example: 1
                        change_request_id:
                          type: integer
                          example: 1
                        action:
                          type: string
                          example: "created"
                        changed_by:
                          type: string
                          example: "S0242422"
                        changed_at:
                          type: string
                          format: date-time
                          example: "2024-08-21T10:00:00Z"
                        old_data:
                          type: object
                        new_data:
                          type: object
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: Change request not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /app-catalog:
    get:
      tags: [Dashboard]
      summary: Get app catalog
      description: |
        Mengambil daftar aplikasi yang tersedia di katalog.
      security: [BearerAuth: []]
      responses:
        '200':
          description: App catalog retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "App catalog retrieved successfully"
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                        app_name:
                          type: string
                        app_description:
                          type: string
                        app_url:
                          type: string
                        app_icon:
                          type: string
                        platform:
                          type: string
                        status:
                          type: string
    post:
      tags: [Dashboard]
      summary: Create app catalog
      description: |
        Membuat aplikasi baru di katalog.
      security: [BearerAuth: []]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [app_name, app_url, platform]
              properties:
                app_name:
                  type: string
                app_description:
                  type: string
                app_url:
                  type: string
                app_icon:
                  type: string
                platform:
                  type: string
                  enum: [web, mobile]
                status:
                  type: string
                  enum: [active, inactive]
      responses:
        '201':
          description: App catalog created successfully
        '400':
          description: Bad Request
        '401':
          description: Unauthorized
  /app-catalog/{id_app_catalog}:
    get:
      tags: [Dashboard]
      summary: Get app catalog by ID
      description: |
        Mengambil detail aplikasi dari katalog berdasarkan ID.
      security: [BearerAuth: []]
      parameters:
        - name: id_app_catalog
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: App catalog retrieved successfully
        '404':
          description: App catalog not found
    put:
      tags: [Dashboard]
      summary: Update app catalog
      description: |
        Mengupdate aplikasi di katalog.
      security: [BearerAuth: []]
      parameters:
        - name: id_app_catalog
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                app_name:
                  type: string
                app_description:
                  type: string
                app_url:
                  type: string
                app_icon:
                  type: string
                platform:
                  type: string
                status:
                  type: string
      responses:
        '200':
          description: App catalog updated successfully
        '404':
          description: App catalog not found
    delete:
      tags: [Dashboard]
      summary: Delete app catalog
      description: |
        Menghapus aplikasi dari katalog.
      security: [BearerAuth: []]
      parameters:
        - name: id_app_catalog
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: App catalog deleted successfully
        '404':
          description: App catalog not found

  /app-groups:
    get:
      tags: [Dashboard]
      summary: Get all application groups
      description: |
        Mengambil daftar semua application groups yang tersedia.
      security: [BearerAuth: []]
      parameters:
        - name: code
          in: query
          description: Filter by group code
          schema:
            type: string
        - name: name
          in: query
          description: Filter by group name
          schema:
            type: string
        - name: status
          in: query
          description: Filter by status (0=Inactive, 1=Active)
          schema:
            type: integer
            enum: [0, 1]
        - name: limit
          in: query
          description: Maximum number of records to return
          schema:
            type: integer
            default: 20
            maximum: 100
        - name: offset
          in: query
          description: Number of records to skip
          schema:
            type: integer
            default: 0
      responses:
        '200':
          description: Application groups retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Application groups retrieved successfully"
                  data:
                    type: object
                    properties:
                      application_groups:
                        type: array
                        items:
                          type: object
                          properties:
                            id_app_group:
                              type: integer
                              example: 3
                            code:
                              type: string
                              example: "APP03"
                            name:
                              type: string
                              example: "finances"
                            icon_class:
                              type: string
                              example: "fas fa-bullhorn"
                            status:
                              type: integer
                              enum: [0, 1]
                              example: 1
                            created_date:
                              type: string
                              example: "17-10-2025 15:59"
                            created_by:
                              type: string
                              example: "2899"
                      total_records:
                        type: integer
                        example: 4
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
    post:
      tags: [Dashboard]
      summary: Create application group
      description: |
        Membuat application group baru.
      security: [BearerAuth: []]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [code, name, icon_class, status]
              properties:
                code:
                  type: string
                  example: "1"
                name:
                  type: string
                  example: "Mango"
                icon_class:
                  type: string
                  example: "fas fa-users"
                status:
                  type: integer
                  enum: [0, 1]
                  example: 1
      responses:
        '201':
          description: Application group created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Application group created successfully"
                  data:
                    type: object
                    properties:
                      id_app_group:
                        type: integer
                        example: 10
                      code:
                        type: string
                        example: "1"
                      name:
                        type: string
                        example: "Mango"
                      icon_class:
                        type: string
                        example: "fas fa-users"
                      status:
                        type: integer
                        example: 1
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /app-groups/{id_app_group}:
    get:
      tags: [Dashboard]
      summary: Get application group by ID
      description: |
        Mengambil detail application group berdasarkan ID.
      security: [BearerAuth: []]
      parameters:
        - name: id_app_group
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Application group retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Application group retrieved successfully"
                  data:
                    type: object
                    properties:
                      application_group:
                        type: object
                        properties:
                          id_app_group:
                            type: integer
                            example: 5
                          code:
                            type: string
                            example: "APP05"
                          name:
                            type: string
                            example: "management"
                          icon_class:
                            type: string
                            example: "fas fa-project-diagram"
                          status:
                            type: integer
                            example: 1
        '404':
          description: Application group not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
    put:
      tags: [Dashboard]
      summary: Update application group
      description: |
        Mengupdate application group yang sudah ada.
      security: [BearerAuth: []]
      parameters:
        - name: id_app_group
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                code:
                  type: string
                name:
                  type: string
                icon_class:
                  type: string
                  nullable: true
                status:
                  type: integer
                  enum: [0, 1]
      responses:
        '200':
          description: Application group updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Application group updated successfully"
        '404':
          description: Application group not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
    delete:
      tags: [Dashboard]
      summary: Delete application group
      description: |
        Menghapus application group secara permanen.
      security: [BearerAuth: []]
      parameters:
        - name: id_app_group
          in: path
          required: true
          schema:
            type: integer
      responses:
        '204':
          description: Application group deleted successfully
        '400':
          description: Bad Request - Group masih digunakan
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: Application group not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /app-icons:
    post:
      tags: [Dashboard]
      summary: Upload application icon
      description: |
        Upload icon file untuk aplikasi. Format yang didukung: PNG, JPG, JPEG, SVG. Maksimal ukuran file: 2MB.
      security: [BearerAuth: []]
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              required: [file]
              properties:
                file:
                  type: string
                  format: binary
                  description: Icon file (PNG, JPG, JPEG, SVG, max 2MB)
                parent_id:
                  type: string
                  nullable: true
                  description: Parent ID jika icon terkait dengan parent object
      responses:
        '201':
          description: Icon uploaded successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Icon uploaded successfully"
                  data:
                    type: object
                    properties:
                      id_app_icon:
                        type: integer
                        example: 15
                      parent_id:
                        type: string
                        nullable: true
                      item_id:
                        type: string
                        example: "01ARZ3NDEKTSV4RRFFQ69G5FAV"
                      file_name:
                        type: string
                        example: "app_icon.png"
                      size:
                        type: integer
                        example: 102400
                      created_by:
                        type: string
                        example: "S0242422"
                      created_date:
                        type: string
                        format: date
                        example: "21-08-2024"
                      updated_by:
                        type: string
                        nullable: true
                      update_date:
                        type: string
                        format: date
                        nullable: true
        '400':
          description: Bad Request - File validation failed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationErrorResponse'
              example:
                status: false
                message: "Invalid file format. Only PNG, JPG, JPEG, and SVG are allowed"
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /app-icons/{item_id}/preview:
    get:
      tags: [Dashboard]
      summary: Preview icon file by item ID
      description: |
        Mengambil preview/thumbnail icon file berdasarkan item_id.
      security: [BearerAuth: []]
      parameters:
        - name: item_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Icon preview retrieved successfully
          content:
            image/png:
              schema:
                type: string
                format: binary
            image/jpeg:
              schema:
                type: string
                format: binary
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: Icon not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /app-icons/{item_id}/download:
    get:
      tags: [Dashboard]
      summary: Download icon file by item ID
      description: |
        Download icon file lengkap berdasarkan item_id.
      security: [BearerAuth: []]
      parameters:
        - name: item_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Icon file downloaded successfully
          content:
            application/octet-stream:
              schema:
                type: string
                format: binary
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: Icon not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /app-icons/{item_id}/information:
    get:
      tags: [Dashboard]
      summary: Get icon information by item ID
      description: |
        Mengambil informasi lengkap tentang icon berdasarkan item_id.
      security: [BearerAuth: []]
      parameters:
        - name: item_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Icon information retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Icon information retrieved successfully"
                  data:
                    type: object
                    properties:
                      icon:
                        type: object
                        properties:
                          id_app_icon:
                            type: integer
                            example: 15
                          parent_id:
                            type: string
                            nullable: true
                          item_id:
                            type: string
                          file_name:
                            type: string
                          size:
                            type: integer
                            nullable: true
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: Icon not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /app-icons/{item_id}/delete:
    delete:
      tags: [Dashboard]
      summary: Delete icon by item ID
      description: |
        Menghapus icon file berdasarkan item_id.
      security: [BearerAuth: []]
      parameters:
        - name: item_id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Icon deleted successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Icon deleted successfully"
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: Icon not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /app-icons/{id_app_catalog}:
    get:
      tags: [Dashboard]
      summary: Get icon by app catalog ID
      description: |
        Mengambil icon berdasarkan id_app_catalog. Endpoint ini harus ditempatkan setelah route spesifik lainnya.
      security: [BearerAuth: []]
      parameters:
        - name: id_app_catalog
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Icon retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Icon retrieved successfully"
                  data:
                    type: object
                    properties:
                      icon:
                        type: object
                        properties:
                          id_app_icon:
                            type: integer
                            example: 15
                          parent_id:
                            type: string
                            nullable: true
                          item_id:
                            type: string
                          file_name:
                            type: string
                          size:
                            type: integer
                            nullable: true
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: Icon not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT

  schemas:
    SuccessResponse:
      type: object
      properties:
        status: {type: boolean}
        message: {type: string}
        data:
          description: Payload sukses (beragam per endpoint)
          nullable: true
          oneOf:
            - type: object
            - type: array

    ErrorResponse:
      type: object
      properties:
        status: {type: boolean}
        message: {type: string}
        error_code:
          type: string
          description: Kode error terstandardisasi (mis. TOKEN_EXPIRED, BAD_REQUEST)
          nullable: true
        action:
          type: string
          description: Rekomendasi tindakan (mis. refresh_token, contact_support)
          nullable: true
        details:
          type: object
          description: Detail tambahan error bila ada
          additionalProperties: true
          nullable: true

    ValidationErrorResponse:
      type: object
      properties:
        status: {type: boolean}
        messages: {type: object}

tags:
  - name: Authentication
    description: Endpoint untuk autentikasi user
  - name: Employee
    description: Endpoint untuk mengelola data karyawan
  - name: Change Request
    description: Endpoint untuk mengelola pengajuan perubahan data
  - name: Master Data
    description: Endpoint untuk mengakses data master
  - name: Dashboard
    description: Endpoint untuk dashboard dan aplikasi favorit
  - name: Export
    description: Endpoint untuk export data
  - name: Consent
    description: Endpoint untuk mengelola consent user
  - name: Attachments
    description: Endpoint untuk mengelola file attachments
  - name: RBAC
    description: Endpoint untuk Role-Based Access Control (Roles, Permissions, Users)



